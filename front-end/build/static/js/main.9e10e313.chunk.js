(this.webpackJsonphotel=this.webpackJsonphotel||[]).push([[0],{70:function(e,t,a){e.exports=a(96)},76:function(e,t,a){},86:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(34),s=a.n(o);a(75),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(8),r=a(9),c=a(11),d=a(10),h=a(5),m=a(12),u=a(100),p=a(101),g=a(98),v=a(99),f=a(68),b=a(67),y=a(17),E=a(29),w=(a(76),a(14)),k=a.n(w),j=a(21),S={host:"apidojo-booking-v1.p.rapidapi.com",key:""},O=function(){var e=Object(j.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://apidojo-booking-v1.p.rapidapi.com/locations/auto-complete?languagecode=en-us&text=".concat(t),{method:"GET",headers:{"x-rapidapi-host":S.host,"x-rapidapi-key":S.key}}).then((function(e){return e.json()})).then((function(e){if(console.log(e),e.message&&0===e.message.localeCompare("Key doesn't exists"))return console.log(e.message),console.log("add api key in your project file api_calls/apiKey\nif you don't have key then get it from \nhttps://rapidapi.com/apidojo/api/booking"),null;var t=[];return e.forEach((function(e){var a=0;for(a=0;a<e.label.length&&0!==e.label[a].localeCompare(",");a++);var n=e.label.substring(0,a),i=e.label.substring(a+1);t.push({name:n,info:i,dest_type:e.dest_type,dest_id:e.dest_id,latitude:e.latitude,longitude:e.longitude})})),t}));case 2:return a=e.sent,console.log(a),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e){function t(e){var a;return Object(l.a)(this,t),a=Object(c.a)(this,Object(d.a)(t).call(this,e)),console.log(a.props),a.state={search_value:"",show_suggestion:!1,suggestions:[],hover:!1,suggestion_position:{},redirect:!1,count:0,userAuth:!1},a.onChange=a.onChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.logout=a.logout.bind(Object(h.a)(a)),console.log(O),console.log(a.props),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"logout",value:function(){var e=this;fetch("http://localhost:5000/users/logout",{method:"POST"}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){e.props.logout(),e.setState({userAuth:!1})}))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.history.push({pathname:"/search",state:{dest_id:null,search:this.state.inputValue}})}},{key:"onClick",value:function(e){this.props.history.push("/search"),this.setState({show_suggestion:!1,inputValue:e.name,suggestions:[]});var t=[e];for(var a in e)console.log(a);this.props.history.push({pathname:"/search",state:{destination:t}})}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({inputValue:t}),this.setState({show_suggestion:!1,suggestion:[]})}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{bg:"primary",expand:"lg",className:"navbar-dark"},i.a.createElement(y.b,{to:"/"},i.a.createElement(u.a.Brand,null,"Hotels")),i.a.createElement(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),i.a.createElement(u.a.Collapse,{id:"basic-navbar-nav"},i.a.createElement(p.a,{className:"mr-auto"},i.a.createElement(g.a,{title:"Account",id:"basic-nav-dropdown"},i.a.createElement(y.b,{to:"/Bookings"},i.a.createElement("center",null,"Bookings")),i.a.createElement(g.a.Divider,null),i.a.createElement(y.b,{to:"/Wishlist"},i.a.createElement("center",null,"wishlist")))),i.a.createElement(v.a,{inline:!0,className:"mr-auto",style:{minWidth:"50%"},id:"basic-nav-dropdown",onSubmit:this.handleSubmit},i.a.createElement(f.a,{type:"text",placeholder:"Search",className:"col-10",value:this.state.inputValue,onChange:this.onChange,style:{borderTopRightRadius:"0px",borderBottomRightRadius:"0px"}}),i.a.createElement(b.a,{className:"col-2",type:"submit",style:{borderTopLeftRadius:"0px",borderBottomLeftRadius:"0px"}},"Search")),i.a.createElement(p.a,{className:"mr-auto"},this.state.userAuth?i.a.createElement(b.a,{onClick:this.logout,className:"primary"},"Logout"):i.a.createElement(y.b,{to:{pathname:"/login",state:{redirectedFrom:""}}},i.a.createElement(b.a,{variant:"primary",className:""},"Login")),i.a.createElement(b.a,{variant:"primary",className:""},"Bookings")))),this.state.redirect&&i.a.createElement(E.a,{to:"/search/"}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{userAuth:e.userAuth}}}]),t}(n.Component),N=a(69),P=(a(86),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={minPrice:a.props.minPrice,maxPrice:a.props.maxPrice,minSelectPrice:a.props.minPrice,maxSelectPrice:a.props.maxPrice,classSelect:0,order:"default",filterStyle:{}},a.minPriceChange=a.minPriceChange.bind(Object(h.a)(a)),a.maxPriceChange=a.maxPriceChange.bind(Object(h.a)(a)),a.classChange=a.classChange.bind(Object(h.a)(a)),a.orderChange=a.orderChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"classChange",value:function(e){this.setState({class:e.target.value})}},{key:"orderChange",value:function(e){this.setState({order:e.target.value})}},{key:"minPriceChange",value:function(e){var t=Number(e.target.value);"NaN"!==String(t)&&t>=0&&(t>this.state.maxSelectPrice&&(t=this.state.maxSelectPrice-1),this.setState({minSelectPrice:t}))}},{key:"maxPriceChange",value:function(e){var t=Number(e.target.value);"NaN"!==String(t)&&t>=0&&(t>=this.state.maxPrice&&(t=this.state.maxPrice),t<this.state.minSelectPrice&&(t=this.state.minSelectPrice+1),this.setState({maxSelectPrice:t}))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a={minPrice:t.minSelectPrice,maxPrice:t.maxSelectPrice,classSelect:t.classSelect,order:t.order};console.log(a),this.props.loadHotels(a)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"collapse-filter-form",onClick:this.toggleFilter}," ",i.a.createElement("h2",{style:{margin:"auto"},className:"row"},"Filters"),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",{className:"minPriceFilter",style:{paddingTop:"2em"}},i.a.createElement("label",null,"min price"),i.a.createElement("input",{className:"custom-range",type:"range",step:"1",value:this.state.minSelectPrice,min:this.state.minPrice,max:this.state.maxPrice,onChange:this.minPriceChange}),i.a.createElement("input",{type:"text",className:"col-10 form-control",value:this.state.minSelectPrice,placeholder:"min price",onChange:this.minPriceChange})),i.a.createElement("div",{className:"maxPriceFilter",style:{paddingTop:"2em"}},i.a.createElement("label",null,"max price"),i.a.createElement("input",{className:"custom-range",type:"range",step:"1",value:this.state.maxSelectPrice,min:this.state.minPrice,max:this.state.maxPrice,onChange:this.maxPriceChange}),i.a.createElement("input",{type:"text",className:"col-10 form-control",value:this.state.maxSelectPrice,placeholder:"max price",onChange:this.maxPriceChange})),i.a.createElement("div",Object(N.a)({className:"orderFilter",style:{paddingTop:"2em"}},"className","row"),i.a.createElement("select",{value:this.state.order,className:"custom-select",onChange:this.orderChange},i.a.createElement("option",{value:"default"},"Order by"),i.a.createElement("option",{value:"ratinglth"},"rating low to high"),i.a.createElement("option",{value:"ratinghtl"},"rating high to low"),i.a.createElement("option",{value:"pricelth"},"price low to high"),i.a.createElement("option",{value:"pricehtl"},"price high to low"))),i.a.createElement("div",{className:"row",style:{paddingTop:"2em",margin:"auto"}},i.a.createElement("button",{className:"col-12 btn btn-primary",type:"submit"},"Filter")))))}}]),t}(n.Component)),C=a(50),_=a.n(C),I=function(e){function t(e){var a;return Object(l.a)(this,t),a=Object(c.a)(this,Object(d.a)(t).call(this,e)),console.log(a.props),a.state={show_list:a.props.show_list,hotels:a.props.hotels},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"getDerivedStateFromProps",value:function(e,t){console.log(e)}},{key:"render",value:function(){var e;return this.state.show_list&&(e=this.state.hotels.map((function(e,t){return i.a.createElement(y.b,{to:{pathname:"search/hotel/".concat(e.hotel_id),state:{hotel:e}},style:{textDecoration:"none"},className:"row hotelLink",key:t},i.a.createElement("div",{className:"col-3",style:{paddingTop:"25%",overflow:"hidden"}},i.a.createElement("img",{style:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",objectFit:"cover"},src:e.photo_url})),i.a.createElement("div",{className:"col-8",style:{paddingLeft:"30px"}},i.a.createElement("div",{className:"row hotelHeading",style:{fontSize:"2.2vw",fontWeight:"600"}},e.hotel_name),i.a.createElement("div",{className:"row",style:{fontSize:"1.5vw",fontWeight:""}},e.address+","+e.city+","+e.country_trans),i.a.createElement("div",{className:"col-lg-6 rating",style:{paddingTop:"9px",paddingLeft:"0px"}},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-6"},i.a.createElement("div",{className:"row"},i.a.createElement("span",{style:{fontSize:"1.4vw",fontWeight:"500"}},"Rating"),i.a.createElement("span",{style:{fontWeight:"400",fontSize:"1.4vw",paddingLeft:"6px"}},e.review_word))),i.a.createElement("div",{className:"col-6",style:{padding:"10px"}},i.a.createElement("div",{className:"progress",style:{paddingLeft:"0px"}},i.a.createElement("div",{className:"progress-bar",style:{width:10*e.review_score+"%"}},e.review_score))))),i.a.createElement("div",{className:"row pricing",style:{fontSize:"1.4vw",paddingTop:"8px"}},i.a.createElement("div",{className:"price",style:{fontSize:"1.4vw",fontWeight:"500"}},_()(e.currency_code),e.min_total_price),"/week")))}))),i.a.createElement("div",null,this.state.show_list,e)}}]),t}(n.Component),T=(a(88),function(e){function t(e){var a;Object(l.a)(this,t);var n=(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).props.location.state,i=n.search,o=n.dest_id;return a.state={show_list:!1,dest_id:o,search:i,minPrice:0,maxPrice:1e4},a.disableShowList=a.disableShowList.bind(Object(h.a)(a)),a.loadHotels=a.loadHotels.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"disableShowList",value:function(){this.setState({show_list:!1})}},{key:"componentDidUpdate",value:function(){this.state.needUpdate&&(this.setState({needUpdate:!1}),this.loadHotels())}},{key:"loadHotels",value:function(e){var t=this;this.disableShowList(),console.log(this.state);var a=this.state.search;fetch("http://localhost:5000/hotel/searchHotels",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a,filters:e})}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(e){t.setState({show_list:!0,hotels:e.hotels,needUpdate:!1}),console.log(e)}))}},{key:"componentDidMount",value:function(){console.log("inside componentdidmount"),this.loadHotels()}},{key:"render",value:function(){var e,t=this.state.search;return e=this.state.show_list?0==this.state.hotels.length?i.a.createElement("h2",null,"No results found!!"):i.a.createElement(I,{show_list:this.state.show_list,hotels:this.state.hotels}):i.a.createElement("h1",{style:{textAlign:"center",backgroundColor:"white"},className:"row"},"Loading..."),i.a.createElement("div",{className:"container-fluid",style:{backgroundColor:"#eceef1"}},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-lg-2",style:{borderRight:"1px solid #e8e5e5",backgroundColor:"white",marginTop:"6px",marginLeft:"6px"}},i.a.createElement(P,{loadHotels:this.loadHotels,dest:this.state.dest,minPrice:this.state.minPrice,maxPrice:this.state.maxPrice})),i.a.createElement("div",{className:"col-lg-9",style:{marginTop:"6px",marginLeft:"6px"}},i.a.createElement("div",{className:"row",style:{backgroundColor:"white",padding:"6px",marginBottom:"6px",fontSize:"16px",fontWeight:"500"}},"showing search result for : ",t),e)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return e.location.state.dest_id&&(a.dest_id=e.location.state.dest_id),e.location.state.search&&(a.search=e.location.state.search),console.log(t.search,a.search),a.search&&t.search!==a.search?a.needUpdate=!0:a.needUpdate=!1,a}}]),t}(n.Component)),L=a(102),V=(a(89),function(){var e=Object(j.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{src:"https://www.familyvacationcritic.com/uploads/sites/19/2018/09/large-multi-gen-travel-1280x640.jpg",label:"enjoy your next trip with your family"},{src:"http://static.asiawebdirect.com/m/phuket/portals/kosamui-com/homepage/samui-top10s/top10-local-thai-restaurants-in-bophut-beach/pagePropertiesImage/10-Best-Local-Thai-Restaurants-in-Bophut-Beach.jpg",label:"hotels from all around the world"}],e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={images:[],fetched:!1},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;V().then((function(t){e.setState({images:t,fetched:!0})}))}},{key:"render",value:function(){var e;return this.state.fetched&&(e=this.state.images.map((function(e,t){return i.a.createElement(L.a.Item,{key:t},i.a.createElement("div",{className:"row image-cover"},i.a.createElement("img",{className:"d-block banner",src:e.src,alt:"slide"}),i.a.createElement(L.a.Caption,null,i.a.createElement("h3",{style:{backgroundImage:"linear-gradient(90deg,transparent,black, transparent)"}},e.label))))}))),i.a.createElement(i.a.Fragment,null,this.state.fetched&&i.a.createElement(L.a,{style:{backgroundImage:"linear-gradient(90deg, #c5c5c5, transparent,#c5c5c5)",borderRadius:"6px",padding:"5px",backgroundColor:"white"}},e))}}]),t}(n.Component),W=(a(90),function(){var e=Object(j.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{name:"london",dest_id:"-2601889",dest_type:"city",latitude:51.507391,longitude:-.127634,photo:"https://images.unsplash.com/photo-1515163988842-60ece4c9a5bb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80"},{name:"new york",dest_id:"20088325",dest_type:"city",latitude:40.768074,longitude:-73.981895,photo:"https://cdn.getyourguide.com/img/tour_img-1667715-146.jpg"},{name:"rome",dest_id:"-126693",dest_type:"city",latitude:41.89587,longitude:12.482617,photo:"https://www.thoughtco.com/thmb/GS4AiVqpE78EVPlhV8tJgRThEr0=/768x0/filters:no_upscale():max_bytes(150000):strip_icc()/the-roman-coliseum-in-the-early-morning-655490208-5abd1d0f119fa80037ef98b9.jpg"},{name:"dubai",dest_id:"-782831",dest_type:"city",latitude:25.195175,longitude:55.272678,photo:"https://img.traveltriangle.com/blog/wp-content/uploads/2017/10/Dubai-at-night-cover.jpg"}],e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),B=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={show:!1,redirectSearch:!1},W().then((function(e){a.setState({locations:e,show:!0})})),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"onClick",value:function(e){console.log("on click on pl"),this.props.history.push({pathname:"/search",state:{dest_id:e.dest_id,search:e.name}})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=null;return this.state.show&&(t=this.state.locations.map((function(t,a){return i.a.createElement("div",{key:a,className:"col-3",style:{paddingLeft:"3%",paddingRight:"3%"},onClick:function(){e.onClick(t)}},i.a.createElement("div",{style:{cursor:"pointer"},className:"card"},i.a.createElement("img",{className:"image",src:t.photo}),i.a.createElement("h1",{className:"label"},t.name)))}))),i.a.createElement("div",{className:"container-fluid",style:{alignContent:"center"}},i.a.createElement("div",{className:"row heading"},"Popular Locations"),i.a.createElement("div",{className:"row"},t))}}]),t}(n.Component),F=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(R,null),i.a.createElement(B,{history:this.props.history,bbox:this.props.bbox}))}}]),t}(n.Component),U=(a(91),a(40)),z=a(36),D=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={images:[]},a.changeImage=a.changeImage.bind(Object(h.a)(a)),a.moveLeft=a.moveLeft.bind(Object(h.a)(a)),a.moveRight=a.moveRight.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"moveLeft",value:function(){if(0===this.state.startIndex);else{var e=this.state.startIndex-1,t=this.state.images[e];this.setState({startIndex:e,mainImage:t})}}},{key:"moveRight",value:function(){if(this.state.startIndex===this.state.noOfImages-1);else{var e=this.state.startIndex+1,t=this.state.images[e];this.setState({startIndex:e,mainImage:t})}}},{key:"componentDidMount",value:function(){var e=this;console.log(this.props),fetch("http://localhost:5000/hotel/getHotelImages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hotel_id:this.props.id})}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){console.log(t),e.setState({images:t.images,mainImage:t.images[0],startIndex:0,noOfImages:t.images.length})})).catch((function(e){console.log(e)}))}},{key:"changeImage",value:function(e){this.setState({mainImage:e})}},{key:"render",value:function(){var e=this,t=this.state.startIndex,a=this.state.images.filter((function(e,a){return a>=t})).map((function(t,a){return i.a.createElement("div",{key:a,className:"col-2 film",style:{overflow:"hidden",paddingTop:"16.666%"},onClick:function(){e.changeImage(t)}},i.a.createElement("img",{style:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",objectFit:"cover"},src:t}))}));return i.a.createElement("div",{className:"container-fluid",style:{border:"1px solid #dedede",backgroundColor:"#fffdf7"}},i.a.createElement("div",{className:"row",style:{overflow:"hidden",padding:"1%"}},i.a.createElement("div",{className:"col-8",style:{overflow:"hidden",paddingTop:"66%",margin:"auto"}},i.a.createElement("img",{src:this.state.mainImage,style:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",objectFit:"cover"}}))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-1 indicator",onClick:this.moveLeft},i.a.createElement(U.a,{icon:z.a,size:""})),i.a.createElement("div",{className:"col-10",style:{display:"flex",overflow:"hidden",padding:"0"}},a),i.a.createElement("div",{className:"col-1 indicator",onClick:this.moveRight},i.a.createElement(U.a,{icon:z.b,size:""}))))}}]),t}(n.Component),H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={reviews:null},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:5000/hotel/getHotelReviews",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hotel_id:this.props.hotel})}).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({reviews:t.reviews})}))}},{key:"render",value:function(){var e=this.state.reviews,t=[];return e&&(console.log(e.length),t=0===e.length?[i.a.createElement("div",{style:{textAlign:"center"}},"no reviews")]:e.map((function(e,t){return i.a.createElement("div",{className:"review",style:{backgroundColor:"white",border:"1px solid #dadada",borderRadius:"8px",padding:"10px",margin:"4px"},key:t},i.a.createElement("div",{className:"row user",style:{paddingLeft:"10px"}},i.a.createElement("div",{className:"col-1",style:{borderRadius:"50%",paddingTop:"8.33%",overflow:"hidden"}},i.a.createElement(U.a,{style:{padding:"5px",position:"absolute",width:"100%",height:"100%",objectFit:"cover",top:"0px",left:"0px"},icon:z.c})),i.a.createElement("div",{style:{fontSize:"1.5em",fontWeight:"400",paddingLeft:"10px"}},e.author_uname)),i.a.createElement("div",{className:""},i.a.createElement("div",{className:""},e.average_rating_out_of_10),i.a.createElement("div",{className:"pros"},e.message)))}))),i.a.createElement("div",{style:{backgroundColor:"rgb(249, 249, 249)",border:"1px solid #eceef1",padding:"4px",borderRadius:"4px",marginTop:"25px"}},i.a.createElement("div",{style:{fontSize:"1.5em",fontWeight:"500",padding:"8px",textAlign:"center"}},"Reviews and Rating"),t)}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={des:"",des_style:{height:"200px",overflow:"hidden"},button:"Read more"},a.onClick=a.onClick.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"onClick",value:function(){"Read more"===this.state.button?this.setState({des_style:{},button:"Hide"}):this.setState({des_style:{height:"200px",overflow:"hidden"},button:"Read more"})}},{key:"componentDidMount",value:function(){var e=this;console.log({hotel_id:this.props.hotel.hotel_id}),fetch("http://localhost:5000/hotel/getHotelDescription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hotel_id:this.props.hotel.hotel_id})}).then((function(e){if(e.ok)return e.json()})).then((function(t){console.log(t),e.setState({des:t.desc})}))}},{key:"render",value:function(){var e=this.props.hotel;return i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",null," ",e.hotel_name," "),i.a.createElement("h5",null," ",e.city+","+e.country_trans," "),i.a.createElement("div",{className:"row pricing",style:{padding:"8px",marginTop:"25px"}},i.a.createElement("div",{className:"price",style:{fontSize:"2em",fontWeight:"500"}},_()(e.currency_code),e.min_total_price,"/week")),i.a.createElement("div",{className:"description",style:{marginTop:"25px"}},i.a.createElement("div",{style:this.state.des_style},this.state.des),i.a.createElement("div",{style:{margin:"auto"}},i.a.createElement("button",{onClick:this.onClick,style:{border:"0px",fontSize:"1.1em",fontWeight:"500",backgroundColor:"white",marginTop:"8px",color:"#007bff"}},this.state.button))),i.a.createElement("div",{className:"col-lg-6 rating",style:{paddingTop:"9px",marginTop:"25px"}},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-6"},i.a.createElement("div",{className:"row"},i.a.createElement("span",{style:{fontSize:"1.4em",fontWeight:"500"}},"Rating"),i.a.createElement("span",{style:{fontWeight:"400",fontSize:"1.4em",paddingLeft:"6px"}},e.review_word))),i.a.createElement("div",{className:"col-6",style:{padding:"10px"}},i.a.createElement("div",{className:"progress",style:{paddingLeft:"0px"}},i.a.createElement("div",{className:"progress-bar",style:{width:10*e.review_score+"%"}},e.review_score))))))}}]),t}(n.Component),A=(a(95),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={hotel_id:a.props.match.params.id,hotel:a.props.location.state.hotel,booked:!1,wishlist:!1,wishlist_loading:!0,booking_loading:!0},a.wishList=a.wishList.bind(Object(h.a)(a)),a.bookHotel=a.bookHotel.bind(Object(h.a)(a)),a.cancelBooking=a.cancelBooking.bind(Object(h.a)(a)),a.removeFromWishlist=a.removeFromWishlist.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"redirectToLogin",value:function(){}},{key:"cancelBooking",value:function(){var e=this;fetch("http://localhost:5000/protected/deleteBooking",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hotel_id:this.state.hotel_id})}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){t&&e.setState({booked:t.booked,booking_loading:!1})})).catch((function(e){console.log(e)}))}},{key:"removeFromWishlist",value:function(){var e=this;fetch("http://localhost:5000/protected/deleteFromWishlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hotel_id:this.state.hotel_id})}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){t&&(console.log(t),e.setState({wishlist:t.wishlisted,wishlist_loading:!1}))})).catch((function(e){console.log(e)}))}},{key:"wishList",value:function(){var e=this;fetch("http://localhost:5000/protected/wishlistHotel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hotel_id:this.state.hotel_id})}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){t&&(console.log(t),t.loginRequired?e.props.history.push("/login"):e.setState({wishlist:!0}))})).catch((function(e){console.log(e)}))}},{key:"bookHotel",value:function(){var e=this;fetch("http://localhost:5000/protected/bookHotel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hotel_id:this.state.hotel_id})}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){console.log(t),t.loginRequired?e.props.history.push("/login"):e.setState({booked:t.booked})}))}},{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:5000/protected/isBooked",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hotel_id:this.state.hotel_id})}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){console.log(t),e.setState({booked:t.booked,booking_loading:!1})})).catch((function(e){console.log(e)})),fetch("http://localhost:5000/protected/isWishlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({hotel_id:this.state.hotel_id})}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){console.log(t),e.setState({wishlist:t.wishlisted,wishlist_loading:!1})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e,t,a=this.state.hotel;return console.log(this.props.location.state.hotel),e=this.state.booked?i.a.createElement("button",{onClick:this.cancelBooking,style:{width:"80%",marginLeft:"10%",fontSize:"22px",fontWeight:"400"},className:"btn btn-primary"},this.state.booking_loading?i.a.createElement("loader",null):"Cancel booking"):i.a.createElement("button",{onClick:this.bookHotel,style:{width:"80%",marginLeft:"10%",fontSize:"24px",fontWeight:"400"},className:"btn btn-primary"},this.state.booking_loading?i.a.createElement("loader",null):"Book"),t=this.state.wishlist?i.a.createElement("button",{onClick:this.removeFromWishlist,style:{width:"80%",marginLeft:"10%",fontSize:"22px",fontWeight:"400"},className:"btn btn-primary"},"Remove from Wishlist"):i.a.createElement("button",{onClick:this.wishList,style:{width:"80%",marginLeft:"10%",fontSize:"24px",fontWeight:"400"},className:"btn btn-primary"},"Wishlist"),i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-sm-6"},i.a.createElement(D,{id:this.state.hotel_id}),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-6"},e),i.a.createElement("div",{className:"col-6"},t))),i.a.createElement("div",{className:"col-sm-6"},i.a.createElement(M,{hotel:a}),i.a.createElement(H,{hotel:a.hotel_id}))))}}]),t}(n.Component)),J=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={isValidPassword:null,isInvalidPassword:null,isValidEmail:null,isInvalidEmail:null,pwdMsg:"",user:{},logInStatus:{logIn:!1,error:!1,msg:""}},a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateEmail=a.validateEmail.bind(Object(h.a)(a)),a.validatePassword=a.validatePassword.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"validateEmail",value:function(e){var t=e.target.value;/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)?this.setState({isValidEmail:!0,isInvalidEmail:!1}):this.setState({isValidEmail:!1,isInvalidEmail:!0})}},{key:"validatePassword",value:function(e){e.target.value.length<6&&this.setState({isValidPassword:!1,isInvalidPassword:!0,pwdMsg:"password should be of 6 or more characters"})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),console.log(e.target.email.value);var a={email:e.target.email.value,password:e.target.password.value};fetch("http://localhost:5000/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){console.log("data from server",e),e.logIn?(t.props.authenticate(e),t.props.history.goBack(),console.log("go back")):t.setState({logInStatus:e,user:a})})).catch((function(e){console.log("error: "+e)}))}},{key:"render",value:function(){var e=this.state,t=e.isValidEmail,a=e.isInvalidEmail,n=e.isValidPassword,o=e.isInvalidPassword;return i.a.createElement("div",{className:"container-fluid",style:{backgroundColor:"#f9f9f9"}},i.a.createElement("div",{className:"row",style:{padding:"2%"}},i.a.createElement("div",{style:{margin:"auto",fontSize:"30px",fontWeight:"400"}},"log in")),i.a.createElement(v.a,{noValidate:!0,onSubmit:this.onSubmit,className:"col-lg-4",style:{margin:"auto",padding:"5%",backgroundColor:"white",borderRadius:"2%",border:"1px solid #e8e5e5"}},this.state.logInStatus.error&&i.a.createElement("div",{className:"alert alert-danger",style:{textAlign:"center"},role:"alert"},this.state.logInStatus.msg),i.a.createElement(v.a.Group,{controlId:"formBasicEmail",style:{padding:"1%"}},i.a.createElement(v.a.Label,null,"Email address"),i.a.createElement(v.a.Control,{required:!0,isValid:t,isInvalid:a,onBlur:this.validateEmail,type:"email",placeholder:"Enter email",name:"email"}),i.a.createElement(v.a.Control.Feedback,{type:"invalid"},"Please provide a email address.")),i.a.createElement(v.a.Group,{controlId:"formBasicPassword",style:{padding:"1%"}},i.a.createElement(v.a.Label,null,"Password"),i.a.createElement(v.a.Control,{required:!0,isValid:n,isInvalid:o,onBlur:this.validatePassword,type:"password",placeholder:"Password",name:"password"}),i.a.createElement(v.a.Control.Feedback,{type:"invalid"},this.state.pwdMsg)),i.a.createElement("div",{className:"row",style:{padding:"1%"}},i.a.createElement(b.a,{variant:"primary",type:"submit",style:{margin:"auto"}},"log in"))),i.a.createElement("div",{className:"col-lg-4",style:{margin:"auto",padding:"2%",backgroundColor:"white",borderRadius:"2%",border:"1px solid #e8e5e5",textAlign:"center"}},"new here ?",i.a.createElement(y.b,{to:"/signup"},"create an account")))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={isValidPassword:null,isInvalidPassword:null,isValidEmail:null,isInvalidEmail:null,isValidUname:null,isInvalidUname:null,pwdMsg:"",user:{},signUpStatus:{signUp:!1,error:!1,msg:""}},a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateEmail=a.validateEmail.bind(Object(h.a)(a)),a.validatePassword=a.validatePassword.bind(Object(h.a)(a)),a.validateUname=a.validateUname.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"validateUname",value:function(e){0===e.target.value.length?this.setState({isValidUname:!1,isInvalidUname:!0}):this.setState({isValidUname:!0,isInvalidEmail:!1})}},{key:"validateEmail",value:function(e){var t=e.target.value;/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)?this.setState({isValidEmail:!0,isInvalidEmail:!1}):this.setState({isValidEmail:!1,isInvalidEmail:!0})}},{key:"validatePassword",value:function(e){var t=e.target.value;t.length<=6?this.setState({isValidPassword:!1,isInvalidPassword:!0,pwdMsg:"password should be of 6 or more characters"}):/.*[A-Z]/.test(t)?/.*[a-z]/.test(t)?/.*[0-9]/.test(t)?/.*[!@#\$%\^&]/.test(t)?this.setState({isValidPassword:!0,isInvalidPassword:!1}):this.setState({isValidPassword:!1,isInvalidPassword:!0,pwdMsg:"password should containt atleast 1 special character"}):this.setState({isValidPassword:!1,isInvalidPassword:!0,pwdMsg:"password should containt atleast 1 number"}):this.setState({isValidPassword:!1,isInvalidPassword:!0,pwdMsg:"password should contain atleast 1 lowercase character"}):this.setState({isValidPassword:!1,isInvalidPassword:!0,pwdMsg:"password should contain atleast 1 uppercase character"})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={uname:e.target.username.value,email:e.target.email.value,password:e.target.password.value};fetch("http://localhost:5000/users/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(e){console.log(e),e.signUp?t.props.history.push({pathname:"/"}):t.setState({signUpStatus:e,user:a})})).catch((function(e){console.log("error: "+e)}))}},{key:"render",value:function(){var e=this.state,t=e.isValidEmail,a=e.isInvalidEmail,n=e.isValidPassword,o=e.isInvalidPassword,s=e.isValidUname,l=e.isInvalidUname;return i.a.createElement("div",{className:"container-fluid",style:{backgroundColor:"#f9f9f9"}},i.a.createElement("div",{className:"row",style:{padding:"2%"}},i.a.createElement("div",{style:{margin:"auto",fontSize:"30px",fontWeight:"400"}},"Create new account")),i.a.createElement(v.a,{noValidate:!0,onSubmit:this.onSubmit,className:"col-lg-4",style:{margin:"auto",padding:"5%",backgroundColor:"white",borderRadius:"2%",border:"1px solid #e8e5e5"}},this.state.signUpStatus.error&&i.a.createElement("div",{className:"alert alert-danger",style:{textAlign:"center"},role:"alert"},this.state.signUpStatus.msg),i.a.createElement(v.a.Group,{controlId:"username",style:{padding:"1%"}},i.a.createElement(v.a.Label,null,"Username"),i.a.createElement(v.a.Control,{required:!0,isValid:s,isInvalid:l,onBlur:this.validateUname,type:"text",placeholder:"Username",name:"uname"}),i.a.createElement(v.a.Control.Feedback,{type:"invalid"},"Please enter Username.")),i.a.createElement(v.a.Group,{controlId:"formBasicEmail",style:{padding:"1%"}},i.a.createElement(v.a.Label,null,"Email address"),i.a.createElement(v.a.Control,{required:!0,isValid:t,isInvalid:a,onBlur:this.validateEmail,type:"email",placeholder:"Enter email",name:"email"}),i.a.createElement(v.a.Control.Feedback,{type:"invalid"},"Please provide a email address.")),i.a.createElement(v.a.Group,{controlId:"formBasicPassword",style:{padding:"1%"}},i.a.createElement(v.a.Label,null,"Password"),i.a.createElement(v.a.Control,{required:!0,isValid:n,isInvalid:o,onBlur:this.validatePassword,type:"password",placeholder:"Password",name:"password"}),i.a.createElement(v.a.Control.Feedback,{type:"invalid"},this.state.pwdMsg)),i.a.createElement("div",{className:"row",style:{padding:"1%"}},i.a.createElement(b.a,{variant:"primary",type:"submit",style:{margin:"auto"}},"Sign up"))))}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={show_list:!1,hotels:null},a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"showError",value:function(e){}},{key:"redirectToLogin",value:function(){this.props.history.push({pathname:"login"})}},{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:5000/protected/get".concat(this.props.type),{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){console.log(t),t.error||(t.loginRequired?e.redirectToLogin():e.setState({show_list:!0,hotels:t.hotels}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e;return e=this.state.show_list&&this.state.hotels?this.state.hotels.length>0?i.a.createElement(I,{show_list:this.state.show_list,hotels:this.state.hotels}):i.a.createElement("h1",null,"no results found"):i.a.createElement("h1",null,"Loading..."),i.a.createElement("div",null,i.a.createElement("div",{className:"col-7",style:{margin:"auto"}},i.a.createElement("h1",null,this.props.type),e))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={search:{show_search:!1,bbox_list:[],type:"",history:null},userAuth:!1},a.authenticate=a.authenticate.bind(Object(h.a)(a)),a.logout=a.logout.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(r.a)(t,[{key:"logout",value:function(){this.setState({userAuth:!1})}},{key:"authenticate",value:function(){this.setState({userAuth:!0})}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(y.a,null,i.a.createElement(E.b,{component:function(t){return i.a.createElement(x,Object.assign({logout:e.logout,userAuth:e.state.userAuth},t))}})," ",i.a.createElement(E.d,null,i.a.createElement(E.b,{path:"/Wishlist",component:function(t){return i.a.createElement(G,Object.assign({type:"WishList"},t,{auth:e.state.auth}))}}),i.a.createElement(E.b,{path:"/Bookings",component:function(t){return i.a.createElement(G,Object.assign({type:"Bookings"},t,{auth:e.state.auth}))}}),i.a.createElement(E.b,{exact:!0,path:"/search",component:T}),i.a.createElement(E.b,{exact:!0,path:"/search/hotel/:id",component:A}),i.a.createElement(E.b,{path:"/login",component:function(t){return i.a.createElement(J,Object.assign({authenticate:e.authenticate},t))}}),i.a.createElement(E.b,{path:"/signup",component:function(t){return i.a.createElement(q,Object.assign({authenticate:e.authenticate},t))}}),i.a.createElement(E.b,{exact:!0,path:"/",component:F}))))}}]),t}(n.Component);s.a.render(i.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[70,1,2]]]);
//# sourceMappingURL=main.9e10e313.chunk.js.map