(this.webpackJsonphotel=this.webpackJsonphotel||[]).push([[0],{146:function(e,t,a){e.exports=a(307)},152:function(e,t,a){},162:function(e,t,a){},300:function(e,t,a){},301:function(e,t,a){},302:function(e,t,a){},303:function(e,t,a){},307:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(44),o=a.n(i);a(151),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=a(8),l=a(9),c=a(11),d=a(10),u=a(5),m=a(12),h=a(311),p=a(312),g=a(309),f=a(310),v=a(145),b=a(144),y=a(23),w=a(34),E=(a(152),a(13)),k=a.n(E),x=a(18),S={host:"apidojo-booking-v1.p.rapidapi.com",key:"741ae90465msh54a6fbb5720b82ep1651eejsne066104adfff"},j=function(){var e=Object(x.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://apidojo-booking-v1.p.rapidapi.com/locations/auto-complete?languagecode=en-us&text=".concat(t),{method:"GET",headers:{"x-rapidapi-host":S.host,"x-rapidapi-key":S.key}}).then((function(e){return e.json()})).then((function(e){if(console.log(e),e.message&&0===e.message.localeCompare("Key doesn't exists"))return console.log(e.message),console.log("add api key in your project file api_calls/apiKey\nif you don't have key then get it from \nhttps://rapidapi.com/apidojo/api/booking"),null;var t=[];return e.forEach((function(e){var a=0;for(a=0;a<e.label.length&&0!==e.label[a].localeCompare(",");a++);var n=e.label.substring(0,a),s=e.label.substring(a+1);t.push({name:n,info:s,dest_type:e.dest_type,dest_id:e.dest_id,latitude:e.latitude,longitude:e.longitude})})),t}));case 2:return a=e.sent,console.log(a),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){function t(e){var a;return Object(r.a)(this,t),a=Object(c.a)(this,Object(d.a)(t).call(this,e)),console.log(a.props),a.state={search_value:"",show_suggestion:!1,suggestions:[],options:["rishabh","veer","singh","kailey","raman"],hover:!1,suggestion_position:{},redirect:!1,count:0,userAuth:!1},a.onChange=a.onChange.bind(Object(u.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.logout=a.logout.bind(Object(u.a)(a)),console.log(j),console.log(a.props),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"logout",value:function(){var e=this;fetch("http://localhost:5000/users/logout",{method:"POST"}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){e.props.logout(),e.setState({userAuth:!1})}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),console.log("submit"),j(this.state.inputValue).then((function(e){t.props.history.push({pathname:"/search",state:{destination:e}})}))}},{key:"onClick",value:function(e){this.setState({show_suggestion:!1,inputValue:e.name,suggestions:[]});var t=[e];for(var a in e)console.log(a);this.props.history.push({pathname:"/search",state:{destination:t}})}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({inputValue:t}),this.setState({show_suggestion:!1,suggestion:[]})}},{key:"render",value:function(){var e,t=this;if(this.state.show_suggestion){var a=this.state.suggestions.map((function(e,a){return s.a.createElement("div",{className:"form-control col-12 suggestion",style:{display:"block"},key:a,onClick:function(){t.onClick(e)}},s.a.createElement("div",{style:{fontWeight:"bold",display:"inline"}},e.name),s.a.createElement("div",{style:{fontWeight:"100",display:"inline",paddingLeft:"inherit"}},e.info))})),n=this.state.suggestion_position.left+"px",i=this.state.suggestion_position.top+"px";e=s.a.createElement("div",{style:{backgroundColor:"white",position:"absolute",left:n,top:i}},a)}return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.a,{bg:"primary",expand:"lg",className:"navbar-dark"},s.a.createElement(y.b,{to:"/"},s.a.createElement(h.a.Brand,null,"Hotels")),s.a.createElement(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),s.a.createElement(h.a.Collapse,{id:"basic-navbar-nav"},s.a.createElement(p.a,{className:"mr-auto"},s.a.createElement(g.a,{title:"Account",id:"basic-nav-dropdown"},s.a.createElement(g.a.Item,{href:"/bookings"},"bookings"),s.a.createElement(g.a.Divider,null),s.a.createElement(g.a.Item,{href:"/wishlist"},"wishlist"))),s.a.createElement(f.a,{inline:!0,className:"mr-auto",style:{minWidth:"50%"},id:"basic-nav-dropdown",onSubmit:this.handleSubmit},s.a.createElement(v.a,{type:"text",placeholder:"Search",className:"col-10",value:this.state.inputValue,onChange:this.onChange,style:{borderTopRightRadius:"0px",borderBottomRightRadius:"0px"}}),s.a.createElement(b.a,{className:"col-2",type:"submit",style:{borderTopLeftRadius:"0px",borderBottomLeftRadius:"0px"}},"search")),e,s.a.createElement(p.a,{className:"mr-auto"},this.state.userAuth?s.a.createElement(b.a,{onClick:this.logout,className:"primary"},"log out"):s.a.createElement(y.b,{to:"/login"},s.a.createElement(b.a,{variant:"primary",className:""},"log in")),s.a.createElement(b.a,{variant:"primary",className:""},"bookings")))),this.state.redirect&&s.a.createElement(w.a,{to:"/search/"}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{userAuth:e.userAuth}}}]),t}(n.Component),C=a(92),N=(a(162),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={minPrice:a.props.minPrice,maxPrice:a.props.maxPrice,minSelectPrice:a.props.minPrice,maxSelectPrice:a.props.maxPrice,classSelect:0,orderSelect:"order by",filterStyle:{}},a.minPriceChange=a.minPriceChange.bind(Object(u.a)(a)),a.maxPriceChange=a.maxPriceChange.bind(Object(u.a)(a)),a.classChange=a.classChange.bind(Object(u.a)(a)),a.orderChange=a.orderChange.bind(Object(u.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"classChange",value:function(e){this.setState({class:e.target.value})}},{key:"orderChange",value:function(e){this.setState({order:e.target.value})}},{key:"minPriceChange",value:function(e){var t=Number(e.target.value);"NaN"!==String(t)&&t>=0&&(t>this.state.maxSelectPrice&&(t=this.state.maxSelectPrice-1),this.setState({minSelectPrice:t}))}},{key:"maxPriceChange",value:function(e){var t=Number(e.target.value);"NaN"!==String(t)&&t>=0&&(t>=this.state.maxPrice&&(t=this.state.maxPrice),t<this.state.minSelectPrice&&(t=this.state.minSelectPrice+1),this.setState({maxSelectPrice:t}))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,a={minPrice:t.minSelectPrice,maxPrice:t.maxSelectPrice,classSelect:t.classSelect,orderSelect:t.orderSelect};console.log(a),this.props.loadHotels(a)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"collapse-filter-form",onClick:this.toggleFilter}," ",s.a.createElement("h2",{style:{margin:"auto"},className:"row"},"Filters"),s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("div",{className:"minPriceFilter",style:{paddingTop:"2em"}},s.a.createElement("label",null,"min price"),s.a.createElement("input",{className:"custom-range",type:"range",step:"1",value:this.state.minSelectPrice,min:this.state.minPrice,max:this.state.maxPrice,onChange:this.minPriceChange}),s.a.createElement("input",{type:"text",className:"col-10 form-control",value:this.state.minSelectPrice,placeholder:"min price",onChange:this.minPriceChange})),s.a.createElement("div",{className:"maxPriceFilter",style:{paddingTop:"2em"}},s.a.createElement("label",null,"max price"),s.a.createElement("input",{className:"custom-range",type:"range",step:"1",value:this.state.maxSelectPrice,min:this.state.minPrice,max:this.state.maxPrice,onChange:this.maxPriceChange}),s.a.createElement("input",{type:"text",className:"col-10 form-control",value:this.state.maxSelectPrice,placeholder:"max price",onChange:this.maxPriceChange})),s.a.createElement("div",Object(C.a)({className:"classFilter",style:{paddingTop:"2em"}},"className","row"),s.a.createElement("select",{value:this.state.class,className:"custom-select",onChange:this.classChange},s.a.createElement("option",{value:"0"},"Select Class"),s.a.createElement("option",{value:"1"},"class 1 and above"),s.a.createElement("option",{value:"2"},"class 2 and above"),s.a.createElement("option",{value:"3"},"class 3 and above"),s.a.createElement("option",{value:"3"},"class 4 and above"),s.a.createElement("option",{value:"3"},"class 5 and above"))),s.a.createElement("div",Object(C.a)({className:"orderFilter",style:{paddingTop:"2em"}},"className","row"),s.a.createElement("select",{value:this.state.order,className:"custom-select",onChange:this.orderChange},s.a.createElement("option",{value:"order by"},"Order by"),s.a.createElement("option",{value:"popularity"},"popularity"),s.a.createElement("option",{value:"rating"},"rating"),s.a.createElement("option",{value:"distance"},"distance"),s.a.createElement("option",{value:"class_ascending"},"class ascending"),s.a.createElement("option",{value:"class_descending"},"class descending"))),s.a.createElement("div",{className:"row",style:{paddingTop:"2em",margin:"auto"}},s.a.createElement("button",{className:"col-12 btn btn-primary",type:"submit"},"Filter")))))}}]),t}(n.Component)),_=a(50),P=a.n(_),I=function(e){function t(e){var a;return Object(r.a)(this,t),a=Object(c.a)(this,Object(d.a)(t).call(this,e)),console.log(a.props),a.state={show_list:a.props.show_list,hotels:a.props.hotels},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getDerivedStateFromProps",value:function(e,t){console.log(e)}},{key:"render",value:function(){var e;return this.state.show_list&&(e=this.state.hotels.map((function(e,t){return s.a.createElement(y.b,{to:{pathname:"search/hotel/".concat(e.id),state:{hotel:e}},style:{textDecoration:"none"},className:"row hotelLink",key:t},s.a.createElement("div",{className:"col-3",style:{paddingTop:"25%",overflow:"hidden"}},s.a.createElement("img",{style:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",objectFit:"cover"},src:e.image})),s.a.createElement("div",{className:"col-8",style:{paddingLeft:"30px"}},s.a.createElement("div",{className:"row hotelHeading",style:{fontSize:"2.2vw",fontWeight:"600"}},e.name),s.a.createElement("div",{className:"row",style:{fontSize:"1.5vw",fontWeight:""}},e.address+","+e.city+","+e.country),s.a.createElement("div",{className:"col-lg-6 rating",style:{paddingTop:"9px",paddingLeft:"0px"}},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},s.a.createElement("div",{className:"row"},s.a.createElement("span",{style:{fontSize:"1.4vw",fontWeight:"500"}},"Rating"),s.a.createElement("span",{style:{fontWeight:"400",fontSize:"1.4vw",paddingLeft:"6px"}},e.review_word))),s.a.createElement("div",{className:"col-6",style:{padding:"10px"}},s.a.createElement("div",{className:"progress",style:{paddingLeft:"0px"}},s.a.createElement("div",{className:"progress-bar",style:{width:10*e.review_score+"%"}},e.review_score))))),s.a.createElement("div",{className:"row pricing",style:{fontSize:"1.4vw",paddingTop:"8px"}},s.a.createElement("div",{className:"price",style:{fontSize:"1.4vw",fontWeight:"500"}},P()(e.currency_code),e.price),"/week")))}))),s.a.createElement("div",null,this.state.show_list,e)}}]),t}(n.Component),T=function(){var e=Object(x.a)(k.a.mark((function e(t,a){var n,s,i,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a||(i=new Date,console.log(i),n=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate(),i.setDate(i.getDate()+7),s=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate()),console.log(n,s),console.log("req = https://apidojo-booking-v1.p.rapidapi.com/properties/list?price_filter_currencycode=USD&search_id=none&order_by=popularity&languagecode=en-us&search_type=".concat(t.dest_type,"&offset=0&dest_ids=").concat(t.dest_id,"&guest_qty=",2,"&arrival_date=").concat(n,"&departure_date=").concat(s,"&room_qty=",1)),e.next=5,fetch("https://apidojo-booking-v1.p.rapidapi.com/properties/list?price_filter_currencycode=USD&search_id=none&order_by=popularity&languagecode=en-us&search_type=".concat(t.dest_type,"&offset=0&dest_ids=").concat(t.dest_id,"&guest_qty=",2,"&arrival_date=").concat(n,"&departure_date=").concat(s,"&room_qty=",1),{method:"GET",headers:{"x-rapidapi-host":"apidojo-booking-v1.p.rapidapi.com","x-rapidapi-key":S.key}}).then((function(e){return e.json()})).then((function(e){return e.message&&0===e.message.localeCompare("Key doesn't exists")?(console.log(e.message),console.log("add api key in your project file api_calls/apiKey\nif you don't have key then get it from \nhttps://rapidapi.com/apidojo/api/booking"),null):e.message?(console.log(e.message),null):(console.log(e),e.result.map((function(e){var t=e.main_photo_url,a=t.indexOf("square60");return t=t.substring(0,a)+"max500"+t.substring(a+8),{id:e.hotel_id,name:e.hotel_name,type:e.accommodation_type_name,image:t,address:e.address,city:e.city,country:e.country_trans,currency_code:e.currency_code,price:e.min_total_price,review_score:e.review_score,review_word:e.review_score_word}})))}));case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),B=(a(164),a(300),function(e){function t(e){var a;return Object(r.a)(this,t),a=Object(c.a)(this,Object(d.a)(t).call(this,e)),console.log("contructor",a.props),a.state={show_list:!1,dest:null,minPrice:0,maxPrice:1e3},a.disableShowList=a.disableShowList.bind(Object(u.a)(a)),a.loadHotels=a.loadHotels.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"disableShowList",value:function(){this.setState({show_list:!1})}},{key:"componentDidUpdate",value:function(){console.log("component update lalala , need update = ".concat(this.state.needUpdate)),this.state.needUpdate&&(this.setState({needUpdate:!1}),this.loadHotels())}},{key:"loadHotels",value:function(e){var t=this;console.log(e),this.disableShowList(),console.log("loadHotels()");var a=this.state.dest;console.log(a),T(a).then((function(e){e&&(console.log(e),t.setState({show_list:!0,hotels:e,loading:!1}))}))}},{key:"componentDidMount",value:function(){console.log("inside componentdidmount"),this.loadHotels()}},{key:"render",value:function(){var e,t=this.state.dest;return e=this.state.show_list?s.a.createElement(I,{show_list:this.state.show_list,hotels:this.state.hotels}):s.a.createElement("h1",{style:{textAlign:"center",backgroundColor:"white"},className:"row"},"Loading..."),s.a.createElement("div",{className:"container-fluid",style:{backgroundColor:"#eceef1"}},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-2",style:{borderRight:"1px solid #e8e5e5",backgroundColor:"white",marginTop:"6px",marginLeft:"6px"}},s.a.createElement(N,{loadHotels:this.loadHotels,dest:this.state.dest,minPrice:this.state.minPrice,maxPrice:this.state.maxPrice})),s.a.createElement("div",{className:"col-lg-9",style:{marginTop:"6px",marginLeft:"6px"}},s.a.createElement("div",{className:"row",style:{backgroundColor:"white",padding:"6px",marginBottom:"6px",fontSize:"16px",fontWeight:"500"}},"showing search result for : ",t.name),e)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.location.state.destination[0];return null===t.dest||t.dest.dest_id!==a.dest_id?(console.log("rerender"),{dest:e.location.state.destination[0],needUpdate:!0}):null}}]),t}(n.Component)),L=a(313),V=(a(301),function(){var e=Object(x.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{src:"https://www.familyvacationcritic.com/uploads/sites/19/2018/09/large-multi-gen-travel-1280x640.jpg",label:"enjoy your next trip with your family"},{src:"http://static.asiawebdirect.com/m/phuket/portals/kosamui-com/homepage/samui-top10s/top10-local-thai-restaurants-in-bophut-beach/pagePropertiesImage/10-Best-Local-Thai-Restaurants-in-Bophut-Beach.jpg",label:"hotels from all around the world"}],e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),W=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={images:[],fetched:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;V().then((function(t){e.setState({images:t,fetched:!0})}))}},{key:"render",value:function(){var e;return this.state.fetched&&(e=this.state.images.map((function(e,t){return s.a.createElement(L.a.Item,{key:t},s.a.createElement("div",{className:"row image-cover"},s.a.createElement("img",{className:"d-block banner",src:e.src,alt:"slide"}),s.a.createElement(L.a.Caption,null,s.a.createElement("h3",null,e.label))))}))),s.a.createElement(s.a.Fragment,null,this.state.fetched&&s.a.createElement(L.a,{style:{backgroundImage:"linear-gradient(90deg, #c5c5c5, transparent,#c5c5c5)",borderRadius:"6px",padding:"5px",backgroundColor:"white"}},e))}}]),t}(n.Component),R=(a(302),function(){var e=Object(x.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{name:"london",dest_id:"-2601889",dest_type:"city",latitude:51.507391,longitude:-.127634,photo:"https://images.unsplash.com/photo-1515163988842-60ece4c9a5bb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80"},{name:"NY",dest_id:"20088325",dest_type:"city",latitude:40.768074,longitude:-73.981895,photo:"https://cdn.getyourguide.com/img/tour_img-1667715-146.jpg"},{name:"Rome",dest_id:"-126693",dest_type:"city",latitude:41.89587,longitude:12.482617,photo:"https://www.thoughtco.com/thmb/GS4AiVqpE78EVPlhV8tJgRThEr0=/768x0/filters:no_upscale():max_bytes(150000):strip_icc()/the-roman-coliseum-in-the-early-morning-655490208-5abd1d0f119fa80037ef98b9.jpg"},{name:"Dubai",dest_id:"-782831",dest_type:"city",latitude:25.195175,longitude:55.272678,photo:"https://img.traveltriangle.com/blog/wp-content/uploads/2017/10/Dubai-at-night-cover.jpg"}],e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),A=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={show:!1,redirectSearch:!1},R().then((function(e){a.setState({locations:e,show:!0})})),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"onClick",value:function(e){console.log("on click on pl"),this.props.history.push({pathname:"/search",state:{destination:[e]}})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=null;return this.state.show&&(t=this.state.locations.map((function(t,a){return s.a.createElement("div",{key:a,className:"col-3",style:{paddingLeft:"3%",paddingRight:"3%"},onClick:function(){e.onClick(t)}},s.a.createElement("div",{className:"card"},s.a.createElement("img",{className:"image",src:t.photo}),s.a.createElement("h1",{className:"label"},t.name)))}))),s.a.createElement("div",{className:"container-fluid",style:{alignContent:"center"}},s.a.createElement("div",{className:"row heading"},"Popular Locations"),s.a.createElement("div",{className:"row"},t))}}]),t}(n.Component),F=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(W,null),s.a.createElement(A,{history:this.props.history,bbox:this.props.bbox}))}}]),t}(n.Component),H=(a(303),function(){var e=Object(x.a)(k.a.mark((function e(t){var a,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://apidojo-booking-v1.p.rapidapi.com/properties/get-hotel-photos?languagecode=en-us&hotel_ids=".concat(t),{method:"GET",headers:{"x-rapidapi-host":S.host,"x-rapidapi-key":S.key}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}));case 2:return a=e.sent,n=a.url_prefix,a=a.data[t].map((function(e){return n+e[4]})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),D=a(93),U=a(70),M=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={images:[]},a.changeImage=a.changeImage.bind(Object(u.a)(a)),a.moveLeft=a.moveLeft.bind(Object(u.a)(a)),a.moveRight=a.moveRight.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"moveLeft",value:function(){if(0===this.state.startIndex);else{var e=this.state.startIndex-1,t=this.state.images[e];this.setState({startIndex:e,mainImage:t})}}},{key:"moveRight",value:function(){if(this.state.startIndex===this.state.noOfImages-1);else{var e=this.state.startIndex+1,t=this.state.images[e];this.setState({startIndex:e,mainImage:t})}}},{key:"componentDidMount",value:function(){var e=this;console.log(this.props),H(this.props.id).then((function(t){e.setState({images:t,mainImage:t[0],startIndex:0,noOfImages:t.length})}))}},{key:"changeImage",value:function(e){this.setState({mainImage:e})}},{key:"render",value:function(){var e=this,t=this.state.startIndex,a=this.state.images.filter((function(e,a){return a>=t})).map((function(t,a){return s.a.createElement("div",{key:a,className:"col-2 film",style:{overflow:"hidden",paddingTop:"16.666%"},onClick:function(){e.changeImage(t)}},s.a.createElement("img",{style:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",objectFit:"cover"},src:t}))}));return s.a.createElement("div",{className:"container-fluid",style:{border:"1px solid #dedede",backgroundColor:"#fffdf7"}},s.a.createElement("div",{className:"row",style:{overflow:"hidden",padding:"1%"}},s.a.createElement("div",{className:"col-8",style:{overflow:"hidden",paddingTop:"66%",margin:"auto"}},s.a.createElement("img",{src:this.state.mainImage,style:{position:"absolute",top:"0px",left:"0px",width:"100%",height:"100%",objectFit:"cover"}}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-1 indicator",onClick:this.moveLeft},s.a.createElement(D.a,{icon:U.a,size:""})),s.a.createElement("div",{className:"col-10",style:{display:"flex",overflow:"hidden",padding:"0"}},a),s.a.createElement("div",{className:"col-1 indicator",onClick:this.moveRight},s.a.createElement(D.a,{icon:U.b,size:""}))))}}]),t}(n.Component),J=function(){var e=Object(x.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://apidojo-booking-v1.p.rapidapi.com/properties/get-featured-reviews?languagecode=en-us&hotel_id=".concat(t),{method:"GET",headers:{"x-rapidapi-host":S.host,"x-rapidapi-key":S.key}}).then((function(e){return e.json()})).then((function(e){return e=(e=e.vpm_featured_reviews).map((function(e){return e.author.avatar||(e.author.avatar="https://cdn3.iconfinder.com/data/icons/vector-icons-6/96/256-512.png"),e}))})).catch((function(e){console.log(e)}));case 2:return a=e.sent,console.log(a.vpm_featured_reviews),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={reviews:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;J(this.props.hotel).then((function(t){e.setState({reviews:t})}))}},{key:"render",value:function(){var e=this.state.reviews,t=[];return e&&(console.log(e.length),t=0===e.length?[s.a.createElement("div",{style:{textAlign:"center"}},"no reviews")]:e.map((function(e,t){return s.a.createElement("div",{className:"review",style:{backgroundColor:"white",border:"1px solid #dadada",borderRadius:"8px",padding:"10px",margin:"4px"},key:t},s.a.createElement("div",{className:"row user",style:{paddingLeft:"10px"}},s.a.createElement("div",{className:"col-1",style:{borderRadius:"50%",paddingTop:"8.33%",overflow:"hidden"}},s.a.createElement("img",{src:e.author.avatar,style:{position:"absolute",width:"100%",height:"100%",objectFit:"cover",top:"0px",left:"0px"}})),s.a.createElement("div",{style:{fontSize:"1.5em",fontWeight:"400",paddingLeft:"10px"}},e.author.name)),s.a.createElement("div",{className:""},s.a.createElement("div",{className:""},e.average_rating_out_of_10),s.a.createElement("div",{className:"pros"},e.pros)))}))),s.a.createElement("div",{style:{backgroundColor:"rgb(249, 249, 249)",border:"1px solid #eceef1",padding:"4px",borderRadius:"4px",marginTop:"25px"}},s.a.createElement("div",{style:{fontSize:"1.5em",fontWeight:"500",padding:"8px",textAlign:"center"}},"Reviews and Rating"),t)}}]),t}(n.Component),G=function(){var e=Object(x.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Stay in the Heart of London. With tranquil courtyard garden, St. James' Court, A Taj Hotel, London offers 4-star rooms, free WiFi and 3 restaurants. Buckingham Palace can be reached in a short walk. The spacious, elegant rooms at St James' Court have flat-screen TVs and luxurious beds. All rooms have air-conditioning, a mini-bar and a modern bathroom with fluffy bathrobes and slippers. Guests can relax in the beauty center, offering an indulgent treatment menu. A gym is also available to guests. St James' Court features the Michelin-starred Quilon restaurant and the stylish, award-winning Zander Bar. Bistro 51 serves fresh European cuisine and Bank Westminster offers a modern British menu. The St James' Court is a 10-minute walk from Victoria Coach and Railway Stations, offering access to the Gatwick Express. The Houses of Parliament and Big Ben are a 10-minute walk away.Stay in the Heart of London. With tranquil courtyard garden, St. James' Court, A Taj Hotel, London offers 4-star rooms, free WiFi and 3 restaurants. Buckingham Palace can be reached in a short walk. The spacious, elegant rooms at St James' Court have flat-screen TVs and luxurious beds. All rooms have air-conditioning, a mini-bar and a modern bathroom with fluffy bathrobes and slippers. Guests can relax in the beauty center, offering an indulgent treatment menu. A gym is also available to guests. St James' Court features the Michelin-starred Quilon restaurant and the stylish, award-winning Zander Bar. Bistro 51 serves fresh European cuisine and Bank Westminster offers a modern British menu. The St James' Court is a 10-minute walk from Victoria Coach and Railway Stations, offering access to the Gatwick Express. The Houses of Parliament and Big Ben are a 10-minute walk away.",e.abrupt("return","Stay in the Heart of London. With tranquil courtyard garden, St. James' Court, A Taj Hotel, London offers 4-star rooms, free WiFi and 3 restaurants. Buckingham Palace can be reached in a short walk. The spacious, elegant rooms at St James' Court have flat-screen TVs and luxurious beds. All rooms have air-conditioning, a mini-bar and a modern bathroom with fluffy bathrobes and slippers. Guests can relax in the beauty center, offering an indulgent treatment menu. A gym is also available to guests. St James' Court features the Michelin-starred Quilon restaurant and the stylish, award-winning Zander Bar. Bistro 51 serves fresh European cuisine and Bank Westminster offers a modern British menu. The St James' Court is a 10-minute walk from Victoria Coach and Railway Stations, offering access to the Gatwick Express. The Houses of Parliament and Big Ben are a 10-minute walk away.Stay in the Heart of London. With tranquil courtyard garden, St. James' Court, A Taj Hotel, London offers 4-star rooms, free WiFi and 3 restaurants. Buckingham Palace can be reached in a short walk. The spacious, elegant rooms at St James' Court have flat-screen TVs and luxurious beds. All rooms have air-conditioning, a mini-bar and a modern bathroom with fluffy bathrobes and slippers. Guests can relax in the beauty center, offering an indulgent treatment menu. A gym is also available to guests. St James' Court features the Michelin-starred Quilon restaurant and the stylish, award-winning Zander Bar. Bistro 51 serves fresh European cuisine and Bank Westminster offers a modern British menu. The St James' Court is a 10-minute walk from Victoria Coach and Railway Stations, offering access to the Gatwick Express. The Houses of Parliament and Big Ben are a 10-minute walk away.");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={des:"",des_style:{height:"200px",overflow:"hidden"},button:"Read more"},a.onClick=a.onClick.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"onClick",value:function(){"Read more"===this.state.button?this.setState({des_style:{},button:"Hide"}):this.setState({des_style:{height:"200px",overflow:"hidden"},button:"Read more"})}},{key:"componentDidMount",value:function(){var e=this;G(this.props.hotel.id).then((function(t){e.setState({des:t})}))}},{key:"render",value:function(){var e=this.props.hotel;return s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",null," ",e.name," "),s.a.createElement("h5",null," ",e.city+","+e.country," "),s.a.createElement("div",{className:"row pricing",style:{padding:"8px",marginTop:"25px"}},s.a.createElement("div",{className:"price",style:{fontSize:"2em",fontWeight:"500"}},P()(e.currency_code),e.price,"/week")),s.a.createElement("div",{className:"description",style:{marginTop:"25px"}},s.a.createElement("div",{style:this.state.des_style},this.state.des),s.a.createElement("div",{style:{margin:"auto"}},s.a.createElement("button",{onClick:this.onClick,style:{border:"0px",fontSize:"1.1em",fontWeight:"500",backgroundColor:"white",marginTop:"8px",color:"#007bff"}},this.state.button))),s.a.createElement("div",{className:"col-lg-6 rating",style:{paddingTop:"9px",marginTop:"25px"}},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},s.a.createElement("div",{className:"row"},s.a.createElement("span",{style:{fontSize:"1.4em",fontWeight:"500"}},"Rating"),s.a.createElement("span",{style:{fontWeight:"400",fontSize:"1.4em",paddingLeft:"6px"}},e.review_word))),s.a.createElement("div",{className:"col-6",style:{padding:"10px"}},s.a.createElement("div",{className:"progress",style:{paddingLeft:"0px"}},s.a.createElement("div",{className:"progress-bar",style:{width:10*e.review_score+"%"}},e.review_score))))))}}]),t}(n.Component),Q=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={id:a.props.match.params.id,hotel:a.props.location.state.hotel,booked:!1,wishlist:!1},a.wishList=a.wishList.bind(Object(u.a)(a)),a.bookHotel=a.bookHotel.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"wishList",value:function(){var e=this;fetch("http://localhost:5000/protected/addWishlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state.hotel)}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){e.setState({wishlist:!0})})).catch((function(e){console.log(e)}))}},{key:"bookHotel",value:function(){var e=this;fetch("http://localhost:5000/protected/bookHotel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state.hotel)}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){e.setState({booked:!0})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.hotel;return console.log(this.props.location.state.hotel),s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-6"},s.a.createElement(M,{id:this.state.id}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{style:{width:"80%",marginLeft:"10%",fontSize:"24px",fontWeight:"400"},className:"btn btn-primary"},this.state.booked?"booked":"book")),s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{onClick:this.wishList,style:{width:"80%",marginLeft:"10%",fontSize:"24px",fontWeight:"400"},className:"btn btn-primary"},this.state.wishlist?"wishlisted":"whishlist")))),s.a.createElement("div",{className:"col-sm-6"},s.a.createElement(q,{hotel:e}),s.a.createElement(z,{hotel:e.id}))))}}]),t}(n.Component),Z=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={isValidPassword:null,isInvalidPassword:null,isValidEmail:null,isInvalidEmail:null,pwdMsg:"",user:{},logInStatus:{logIn:!1,error:!1,msg:""}},a.onSubmit=a.onSubmit.bind(Object(u.a)(a)),a.validateEmail=a.validateEmail.bind(Object(u.a)(a)),a.validatePassword=a.validatePassword.bind(Object(u.a)(a)),console.log(a.props),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"validateEmail",value:function(e){var t=e.target.value;/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)?this.setState({isValidEmail:!0,isInvalidEmail:!1}):this.setState({isValidEmail:!1,isInvalidEmail:!0})}},{key:"validatePassword",value:function(e){e.target.value.length<=6&&this.setState({isValidPassword:!1,isInvalidPassword:!0,pwdMsg:"password should be of 6 or more characters"})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),console.log(e.target.email.value);var a={email:e.target.email.value,password:e.target.password.value};fetch("http://localhost:5000/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(e){console.log(e),e.logIn?(t.props.authenticate(e),t.props.history.push({pathname:"/"})):t.setState({logInStatus:e,user:a})})).catch((function(e){console.log("error: "+e)}))}},{key:"render",value:function(){var e=this.state,t=e.isValidEmail,a=e.isInvalidEmail,n=e.isValidPassword,i=e.isInvalidPassword;return s.a.createElement("div",{className:"container-fluid",style:{backgroundColor:"#f9f9f9"}},s.a.createElement("div",{className:"row",style:{padding:"2%"}},s.a.createElement("div",{style:{margin:"auto",fontSize:"30px",fontWeight:"400"}},"log in")),s.a.createElement(f.a,{noValidate:!0,onSubmit:this.onSubmit,className:"col-lg-4",style:{margin:"auto",padding:"5%",backgroundColor:"white",borderRadius:"2%",border:"1px solid #e8e5e5"}},this.state.logInStatus.error&&s.a.createElement("div",{className:"alert alert-danger",style:{textAlign:"center"},role:"alert"},this.state.logInStatus.msg),s.a.createElement(f.a.Group,{controlId:"formBasicEmail",style:{padding:"1%"}},s.a.createElement(f.a.Label,null,"Email address"),s.a.createElement(f.a.Control,{required:!0,isValid:t,isInvalid:a,onBlur:this.validateEmail,type:"email",placeholder:"Enter email",name:"email"}),s.a.createElement(f.a.Control.Feedback,{type:"invalid"},"Please provide a email address.")),s.a.createElement(f.a.Group,{controlId:"formBasicPassword",style:{padding:"1%"}},s.a.createElement(f.a.Label,null,"Password"),s.a.createElement(f.a.Control,{required:!0,isValid:n,isInvalid:i,onBlur:this.validatePassword,type:"password",placeholder:"Password",name:"password"}),s.a.createElement(f.a.Control.Feedback,{type:"invalid"},this.state.pwdMsg)),s.a.createElement("div",{className:"row",style:{padding:"1%"}},s.a.createElement(b.a,{variant:"primary",type:"submit",style:{margin:"auto"}},"log in"))),s.a.createElement("div",{className:"col-lg-4",style:{margin:"auto",padding:"2%",backgroundColor:"white",borderRadius:"2%",border:"1px solid #e8e5e5",textAlign:"center"}},"new here ?",s.a.createElement(y.b,{to:"/signup"},"create an account")))}}]),t}(n.Component),K=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={isValidPassword:null,isInvalidPassword:null,isValidEmail:null,isInvalidEmail:null,isValidUname:null,isInvalidUname:null,pwdMsg:"",user:{},signUpStatus:{signUp:!1,error:!1,msg:""}},a.onSubmit=a.onSubmit.bind(Object(u.a)(a)),a.validateEmail=a.validateEmail.bind(Object(u.a)(a)),a.validatePassword=a.validatePassword.bind(Object(u.a)(a)),a.validateUname=a.validateUname.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"validateUname",value:function(e){0===e.target.value.length?this.setState({isValidUname:!1,isInvalidUname:!0}):this.setState({isValidUname:!0,isInvalidEmail:!1})}},{key:"validateEmail",value:function(e){var t=e.target.value;/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)?this.setState({isValidEmail:!0,isInvalidEmail:!1}):this.setState({isValidEmail:!1,isInvalidEmail:!0})}},{key:"validatePassword",value:function(e){var t=e.target.value;t.length<=6?this.setState({isValidPassword:!1,isInvalidPassword:!0,pwdMsg:"password should be of 6 or more characters"}):/.*[A-Z]/.test(t)?/.*[a-z]/.test(t)?/.*[0-9]/.test(t)?/.*[!@#\$%\^&]/.test(t)?this.setState({isValidPassword:!0,isInvalidPassword:!1}):this.setState({isValidPassword:!1,isInvalidPassword:!0,pwdMsg:"password should containt atleast 1 special character"}):this.setState({isValidPassword:!1,isInvalidPassword:!0,pwdMsg:"password should containt atleast 1 number"}):this.setState({isValidPassword:!1,isInvalidPassword:!0,pwdMsg:"password should contain atleast 1 lowercase character"}):this.setState({isValidPassword:!1,isInvalidPassword:!0,pwdMsg:"password should contain atleast 1 uppercase character"})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={uname:e.target.username.value,email:e.target.email.value,password:e.target.password.value};fetch("http://localhost:5000/users/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(e){console.log(e),e.signUp?t.props.history.push({pathname:"/"}):t.setState({signUpStatus:e,user:a})})).catch((function(e){console.log("error: "+e)}))}},{key:"render",value:function(){var e=this.state,t=e.isValidEmail,a=e.isInvalidEmail,n=e.isValidPassword,i=e.isInvalidPassword,o=e.isValidUname,r=e.isInvalidUname;return s.a.createElement("div",{className:"container-fluid",style:{backgroundColor:"#f9f9f9"}},s.a.createElement("div",{className:"row",style:{padding:"2%"}},s.a.createElement("div",{style:{margin:"auto",fontSize:"30px",fontWeight:"400"}},"Create new account")),s.a.createElement(f.a,{noValidate:!0,onSubmit:this.onSubmit,className:"col-lg-4",style:{margin:"auto",padding:"5%",backgroundColor:"white",borderRadius:"2%",border:"1px solid #e8e5e5"}},this.state.signUpStatus.error&&s.a.createElement("div",{className:"alert alert-danger",style:{textAlign:"center"},role:"alert"},this.state.signUpStatus.msg),s.a.createElement(f.a.Group,{controlId:"username",style:{padding:"1%"}},s.a.createElement(f.a.Label,null,"Username"),s.a.createElement(f.a.Control,{required:!0,isValid:o,isInvalid:r,onBlur:this.validateUname,type:"text",placeholder:"Username",name:"uname"}),s.a.createElement(f.a.Control.Feedback,{type:"invalid"},"Please enter Username.")),s.a.createElement(f.a.Group,{controlId:"formBasicEmail",style:{padding:"1%"}},s.a.createElement(f.a.Label,null,"Email address"),s.a.createElement(f.a.Control,{required:!0,isValid:t,isInvalid:a,onBlur:this.validateEmail,type:"email",placeholder:"Enter email",name:"email"}),s.a.createElement(f.a.Control.Feedback,{type:"invalid"},"Please provide a email address.")),s.a.createElement(f.a.Group,{controlId:"formBasicPassword",style:{padding:"1%"}},s.a.createElement(f.a.Label,null,"Password"),s.a.createElement(f.a.Control,{required:!0,isValid:n,isInvalid:i,onBlur:this.validatePassword,type:"password",placeholder:"Password",name:"password"}),s.a.createElement(f.a.Control.Feedback,{type:"invalid"},this.state.pwdMsg)),s.a.createElement("div",{className:"row",style:{padding:"1%"}},s.a.createElement(b.a,{variant:"primary",type:"submit",style:{margin:"auto"}},"Sign up"))))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={show_list:!1,hotels:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e;return this.state.show_list&&(e=s.a.createElement(I,{show_list:this.state.show_list,hotels:this.state.hotels})),s.a.createElement("div",null,s.a.createElement("h1",null,this.props.type),e)}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={search:{show_search:!1,bbox_list:[],type:"",history:null},userAuth:!1},a.authenticate=a.authenticate.bind(Object(u.a)(a)),a.logout=a.logout.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"logout",value:function(){this.setState({userAuth:!1})}},{key:"authenticate",value:function(){this.setState({userAuth:!0})}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(y.a,null,s.a.createElement(w.b,{component:function(t){return s.a.createElement(O,Object.assign({logout:e.logout,userAuth:e.state.userAuth},t))}})," ",s.a.createElement(w.d,null,s.a.createElement(w.b,{exact:!0,path:"/wishlist",component:function(){return s.a.createElement($,{type:"WishList",auth:e.state.auth})}}),s.a.createElement(w.b,{exact:!0,path:"/bookings",component:function(){return s.a.createElement($,{type:"Bookings",auth:e.state.auth})}}),s.a.createElement(w.b,{exact:!0,path:"/search",component:B}),s.a.createElement(w.b,{exact:!0,path:"/search/hotel/:id",component:Q}),s.a.createElement(w.b,{path:"/login",component:function(t){return s.a.createElement(Z,Object.assign({authenticate:e.authenticate},t))}}),s.a.createElement(w.b,{path:"/signup",component:function(t){return s.a.createElement(K,Object.assign({authenticate:e.authenticate},t))}}),s.a.createElement(w.b,{exact:!0,path:"/",component:F}))))}}]),t}(n.Component);o.a.render(s.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[146,1,2]]]);
//# sourceMappingURL=main.b8c83ef4.chunk.js.map