{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rishabh\\\\Desktop\\\\babel1\\\\react\\\\project\\\\hotel\\\\front-end\\\\src\\\\components\\\\searched_list.jsx\";\nimport React, { Component } from 'react';\nimport getRooms from '../api_calls/getRooms';\nimport { throwStatement } from '@babel/types';\nimport { Switch, Route, Link, useRouteMatch } from 'react-router-dom';\nimport './../searchedList.css';\n\nclass List extends Component {\n  constructor(props) {\n    super(props);\n    console.log('contructor', this.props); // const{longitude,latitude} = this.props.location.state.bbox[0];\n\n    this.state = {\n      show_list: false,\n      dest: null,\n      minPrice: 0,\n      maxPrice: 1000\n    };\n    this.disableShowList = this.disableShowList.bind(this);\n  }\n\n  disableShowList() {\n    this.setState({\n      show_list: false\n    });\n  }\n  /*this method is now unsafe_componentWillRecieveProps , and in next update it will be removed so use getDerivedStateFromProps\r\n   componentWillReceiveProps(new_props) // during update component life cycle =  componentWillReceiveProps -> shouldComponentUpdate ->(if true from scu) componentWillUpdate -> render -> componentDidUpdate\r\n   {\r\n       if(this.page_loaded){\r\n           this.loadHotels();\r\n       }\r\n   }\r\n   */\n  // static method so this keyword cannot be used so props and state are send as arguments\n  // and to setState return new state obj , or null if don't want to update state \n\n\n  static getDerivedStateFromProps(props, state) {\n    // eh har var chalda after constructor and without constructor when new props arrives(update) \n    // not after setState\n    const dest = props.location.state.destination[0]; //if state.dest is null means first time then update state\n    // or if new props.dest_id is different then current state\n\n    if (state.dest === null || state.dest.dest_id !== dest.dest_id) {\n      console.log('rerender');\n      return {\n        dest: props.location.state.destination[0],\n        needUpdate: true\n      };\n    } else return null;\n  }\n\n  componentDidUpdate() {\n    console.log(\"component update lalala , need update = \".concat(this.state.needUpdate));\n\n    if (this.state.needUpdate) {\n      this.setState({\n        needUpdate: false\n      });\n      this.loadHotels(); //fetch nal jo changes ho rhe ne oh detect nhi krda\n      //when we search and are already on /search\n    }\n  }\n\n  loadHotels() {\n    this.disableShowList();\n    console.log('loadHotels()');\n    const dest = this.state.dest;\n    console.log(dest); // getRooms(dest)\n    //     .then((list) => {\n    //         if (list) {\n    //             console.log(list);\n    //             this.setState({ show_list: true, hotels: list ,loading: false});\n    //         }\n    //     })\n\n    this.setState({\n      show_list: true,\n      hotels: []\n    }); // this.setState({ page_loaded: true });\n  }\n\n  componentDidMount() {\n    console.log('inside componentdidmount');\n    this.loadHotels(); //nhi thik a , eh sirf ik var hi chalda\n  }\n\n  render() {\n    // let { path, url } = useRouteMatch();// path used in Route , url used in link(matched)\n    // let path = '/search';\n    // let url = '/search';\n    let list;\n\n    if (this.state.show_list) {\n      list = this.state.hotels.map((x, index) => {\n        return React.createElement(Link, {\n          to: {\n            pathname: \"search/hotel/\".concat(x.id),\n            state: {\n              hotel: x\n            }\n          },\n          style: {\n            textDecoration: 'none'\n          },\n          className: \"row hotelLink\",\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-3\",\n          style: {\n            paddingTop: \"25%\",\n            backgroundColor: \"grey\",\n            border: \"1px solid black\",\n            overflow: \"hidden\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          style: {\n            position: \"absolute\",\n            top: \"0px\",\n            left: \"0px\",\n            width: \"100%\",\n            height: \"100%\",\n            objectFit: \"cover\"\n          },\n          src: x.image,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"col-8\",\n          style: {\n            paddingLeft: \"30px\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row hotelHeading\",\n          style: {\n            fontSize: \"3vw\",\n            fontWeight: \"500\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }, x.name), React.createElement(\"div\", {\n          className: \"row\",\n          style: {\n            fontSize: \"2vw\",\n            fontWeight: \"400\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, x.address + \",\" + x.city + \",\" + x.country)));\n      });\n    } else {\n      list = React.createElement(\"h1\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"Loading...\");\n    }\n\n    return React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      style: {},\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Filters\"), React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"minPriceFilter\",\n      style: {\n        paddingTop: '2em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"custom-range\",\n      type: \"range\",\n      step: \"1\",\n      min: this.state.minPrice,\n      max: this.state.maxPrice,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"col-10 form-control\",\n      placeholder: \"min price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"maxPriceFilter\",\n      style: {\n        paddingTop: '2em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"custom-range\",\n      type: \"range\",\n      step: \"1\",\n      min: this.state.minPrice,\n      max: this.state.maxPrice,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"col-10 form-control\",\n      placeholder: \"max price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"classFilter\",\n      style: {\n        paddingTop: '2em'\n      },\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      class: \"custom-select\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      selected: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Select class\"), React.createElement(\"option\", {\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"class 1 and above\"), React.createElement(\"option\", {\n      value: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"class 2 and above\"), React.createElement(\"option\", {\n      value: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"class 3 and above\"), React.createElement(\"option\", {\n      value: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \"class 4 and above\"), React.createElement(\"option\", {\n      value: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"class 5 and above\"))), React.createElement(\"div\", {\n      className: \"orderFilter\",\n      style: {\n        paddingTop: '2em'\n      },\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      class: \"custom-select\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      selected: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"order by\"), React.createElement(\"option\", {\n      value: \"popularity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"popularity\"), React.createElement(\"option\", {\n      value: \"rating\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"rating\"), React.createElement(\"option\", {\n      value: \"distance\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"distance\"), React.createElement(\"option\", {\n      value: \"class_ascending\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"class ascending\"), React.createElement(\"option\", {\n      value: \"class_descending\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"class descending\"))), React.createElement(\"div\", {\n      style: {\n        paddingTop: '2em'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Filter\")))), React.createElement(\"div\", {\n      className: \"col-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, list)));\n  }\n\n}\n\nexport default List;","map":{"version":3,"sources":["C:/Users/Rishabh/Desktop/babel1/react/project/hotel/front-end/src/components/searched_list.jsx"],"names":["React","Component","getRooms","throwStatement","Switch","Route","Link","useRouteMatch","List","constructor","props","console","log","state","show_list","dest","minPrice","maxPrice","disableShowList","bind","setState","getDerivedStateFromProps","location","destination","dest_id","needUpdate","componentDidUpdate","loadHotels","hotels","componentDidMount","render","list","map","x","index","pathname","id","hotel","textDecoration","paddingTop","backgroundColor","border","overflow","position","top","left","width","height","objectFit","image","paddingLeft","fontSize","fontWeight","name","address","city","country"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport getRooms from '../api_calls/getRooms';\r\nimport { throwStatement } from '@babel/types';\r\nimport { Switch, Route, Link, useRouteMatch } from 'react-router-dom'\r\nimport './../searchedList.css'\r\nclass List extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        console.log('contructor', this.props);\r\n        // const{longitude,latitude} = this.props.location.state.bbox[0];\r\n        this.state = {\r\n            show_list: false,\r\n            dest: null,\r\n            minPrice: 0,\r\n            maxPrice: 1000\r\n        }\r\n        this.disableShowList = this.disableShowList.bind(this);\r\n    }\r\n    disableShowList() {\r\n        this.setState({ show_list: false })\r\n    }\r\n    /*this method is now unsafe_componentWillRecieveProps , and in next update it will be removed so use getDerivedStateFromProps\r\n     componentWillReceiveProps(new_props) // during update component life cycle =  componentWillReceiveProps -> shouldComponentUpdate ->(if true from scu) componentWillUpdate -> render -> componentDidUpdate\r\n     {\r\n         if(this.page_loaded){\r\n             this.loadHotels();\r\n         }\r\n     }\r\n     */\r\n\r\n    // static method so this keyword cannot be used so props and state are send as arguments\r\n    // and to setState return new state obj , or null if don't want to update state \r\n\r\n    static getDerivedStateFromProps(props, state) {\r\n        // eh har var chalda after constructor and without constructor when new props arrives(update) \r\n        // not after setState\r\n\r\n        const dest = props.location.state.destination[0];\r\n        //if state.dest is null means first time then update state\r\n        // or if new props.dest_id is different then current state\r\n        if ((state.dest === null) || (state.dest.dest_id !== dest.dest_id)) {\r\n            console.log('rerender');\r\n            return {\r\n                dest: props.location.state.destination[0],\r\n                needUpdate: true\r\n            }\r\n        }\r\n        else\r\n            return null;\r\n    }\r\n    componentDidUpdate() {\r\n        console.log(`component update lalala , need update = ${this.state.needUpdate}`);\r\n        if (this.state.needUpdate) {\r\n            this.setState({ needUpdate: false });\r\n            this.loadHotels();//fetch nal jo changes ho rhe ne oh detect nhi krda\r\n            //when we search and are already on /search\r\n        }\r\n    }\r\n    loadHotels() {\r\n        this.disableShowList();\r\n        console.log('loadHotels()');\r\n        const { dest } = this.state;\r\n        console.log(dest);\r\n\r\n        // getRooms(dest)\r\n        //     .then((list) => {\r\n        //         if (list) {\r\n        //             console.log(list);\r\n        //             this.setState({ show_list: true, hotels: list ,loading: false});\r\n        //         }\r\n        //     })\r\n        this.setState({ show_list: true, hotels: [] });\r\n        // this.setState({ page_loaded: true });\r\n    }\r\n    componentDidMount() {\r\n        console.log('inside componentdidmount');\r\n        this.loadHotels();\r\n        //nhi thik a , eh sirf ik var hi chalda\r\n    }\r\n    render() {\r\n        // let { path, url } = useRouteMatch();// path used in Route , url used in link(matched)\r\n        // let path = '/search';\r\n        // let url = '/search';\r\n\r\n        let list;\r\n        if (this.state.show_list) {\r\n            list = this.state.hotels.map((x, index) => {\r\n                return <Link to={{\r\n                    pathname: `search/hotel/${x.id}`,\r\n                    state: {\r\n                        hotel: x\r\n                    }\r\n                }} style={{ textDecoration: 'none' }} className=\"row hotelLink\" key={index}>\r\n                    <div className=\"col-3\" style={{ paddingTop: \"25%\", backgroundColor: \"grey\", border: \"1px solid black\", overflow: \"hidden\" }}>\r\n                        <img style={{ position: \"absolute\", top: \"0px\", left: \"0px\", width: \"100%\", height: \"100%\", objectFit: \"cover\" }} src={x.image} />\r\n                    </div>\r\n                    <div className=\"col-8\" style={{ paddingLeft: \"30px\" }}>\r\n                        <div className=\"row hotelHeading\" style={{ fontSize: \"3vw\", fontWeight: \"500\" }}>\r\n                            {x.name}\r\n                        </div>\r\n                        <div className=\"row\" style={{ fontSize: \"2vw\", fontWeight: \"400\" }}>\r\n                            {x.address + \",\" + x.city + \",\" + x.country}\r\n                        </div>\r\n                    </div>\r\n                </Link >\r\n            })\r\n        }\r\n        else {\r\n            list = <h1 className='row'>Loading...</h1>\r\n        }\r\n        return <div className='container-fluid'>\r\n            <div className='row'>\r\n                <div className='col-2'>\r\n                    <h2 style={{}} className='row'>Filters</h2>\r\n                    <form>\r\n                        <div className='minPriceFilter' style={{ paddingTop: '2em' }}>\r\n                            <input className='custom-range' type='range' step='1' min={this.state.minPrice} max={this.state.maxPrice} />\r\n                            <input type='text' className='col-10 form-control' placeholder='min price' />\r\n                        </div>\r\n\r\n                        <div className='maxPriceFilter' style={{ paddingTop: '2em' }}>\r\n                            <input className='custom-range' type='range' step='1' min={this.state.minPrice} max={this.state.maxPrice} />\r\n                            <input type='text' className='col-10 form-control' placeholder='max price' />\r\n                        </div>\r\n\r\n                        <div className='classFilter' style={{ paddingTop: '2em' }} className='row'>\r\n                            <select class=\"custom-select\">\r\n                                <option selected>Select class</option>\r\n                                <option value=\"1\">class 1 and above</option>\r\n                                <option value=\"2\">class 2 and above</option>\r\n                                <option value=\"3\">class 3 and above</option>\r\n                                <option value=\"3\">class 4 and above</option>\r\n                                <option value=\"3\">class 5 and above</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div className='orderFilter' style={{ paddingTop: '2em' }} className='row'>\r\n                            <select class=\"custom-select\">\r\n                                <option selected>order by</option>\r\n                                <option value=\"popularity\">popularity</option>\r\n                                <option value=\"rating\">rating</option>\r\n                                <option value=\"distance\">distance</option>\r\n                                <option value=\"class_ascending\">class ascending</option>\r\n                                <option value=\"class_descending\">class descending</option>\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div style={{paddingTop: '2em'}}>\r\n                            <button className='btn btn-primary' type='submit'>Filter</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <div className='col-10'>{list}</div>\r\n            </div>\r\n        </div>;\r\n    }\r\n}\r\nexport default List;"]},"metadata":{},"sourceType":"module"}