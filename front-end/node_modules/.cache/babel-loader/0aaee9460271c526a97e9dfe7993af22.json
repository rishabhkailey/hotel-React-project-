{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Rishabh\\\\Desktop\\\\babel1\\\\react\\\\project\\\\hotel\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Rishabh\\\\Desktop\\\\babel1\\\\react\\\\project\\\\hotel\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import key from\"./apiKey\";var getReviews=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(hotelId){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://apidojo-booking-v1.p.rapidapi.com/properties/get-featured-reviews?languagecode=en-us&hotel_id=\".concat(hotelId),{\"method\":\"GET\",\"headers\":{\"x-rapidapi-host\":key['host'],\"x-rapidapi-key\":key['key']}}).then(function(response){return response.json();}).then(function(res){res=res.vpm_featured_reviews;res=res.map(function(r){if(!r.author.avatar){r.author.avatar='https://cdn3.iconfinder.com/data/icons/vector-icons-6/96/256-512.png';}return r;});return res;}).catch(function(err){console.log(err);});case 2:res=_context.sent;console.log(res.vpm_featured_reviews);return _context.abrupt(\"return\",res);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getReviews(_x){return _ref.apply(this,arguments);};}();export default getReviews;","map":{"version":3,"sources":["C:/Users/Rishabh/Desktop/babel1/react/project/hotel/front-end/src/api_calls/getReviews.js"],"names":["key","getReviews","hotelId","fetch","then","response","json","res","vpm_featured_reviews","map","r","author","avatar","catch","err","console","log"],"mappings":"mTAAA,MAAOA,CAAAA,GAAP,KAAgB,UAAhB,CAEA,GAAMC,CAAAA,UAAU,0FAAG,iBAAOC,OAAP,gJACCC,CAAAA,KAAK,iHAA0GD,OAA1G,EAAqH,CACtI,SAAU,KAD4H,CAEtI,UAAW,CACP,kBAAoBF,GAAG,CAAC,MAAD,CADhB,CAEP,iBAAkBA,GAAG,CAAC,KAAD,CAFd,CAF2H,CAArH,CAAL,CAOfI,IAPe,CAOV,SAAAC,QAAQ,CAAI,CACd,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACH,CATe,EAUfF,IAVe,CAUV,SAACG,GAAD,CAAO,CACTA,GAAG,CAAGA,GAAG,CAACC,oBAAV,CACAD,GAAG,CAAGA,GAAG,CAACE,GAAJ,CAAQ,SAACC,CAAD,CAAK,CACf,GAAG,CAACA,CAAC,CAACC,MAAF,CAASC,MAAb,CACA,CACIF,CAAC,CAACC,MAAF,CAASC,MAAT,CAAkB,sEAAlB,CACH,CACD,MAAOF,CAAAA,CAAP,CACH,CANK,CAAN,CAOA,MAAOH,CAAAA,GAAP,CACH,CApBe,EAqBfM,KArBe,CAqBT,SAAAC,GAAG,CAAI,CACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAvBe,CADD,QACXP,GADW,eA2BfQ,OAAO,CAACC,GAAR,CAAYT,GAAG,CAACC,oBAAhB,EA3Be,gCA6BRD,GA7BQ,wDAAH,kBAAVN,CAAAA,UAAU,4CAAhB,CAgCA,cAAeA,CAAAA,UAAf","sourcesContent":["import key from \"./apiKey\";\r\n\r\nconst getReviews = async (hotelId)=>{\r\n    let res = await fetch(`https://apidojo-booking-v1.p.rapidapi.com/properties/get-featured-reviews?languagecode=en-us&hotel_id=${hotelId}`, {\r\n        \"method\": \"GET\",\r\n        \"headers\": {\r\n            \"x-rapidapi-host\":  key['host'],\r\n            \"x-rapidapi-key\": key['key']\r\n        }\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .then((res)=>{\r\n        res = res.vpm_featured_reviews;\r\n        res = res.map((r)=>{\r\n            if(!r.author.avatar)\r\n            {\r\n                r.author.avatar = 'https://cdn3.iconfinder.com/data/icons/vector-icons-6/96/256-512.png';\r\n            }\r\n            return r;\r\n        })\r\n        return res;\r\n    })\r\n    .catch(err => {\r\n        console.log(err);\r\n    });\r\n\r\n    \r\n    console.log(res.vpm_featured_reviews);\r\n\r\n    return res;\r\n    //title(can be null),average_score_out_of_10,cons,pros,date,relative_time{years_past,days_past,weeks_past,months_past},author{avatar(img src),name}\r\n}\r\nexport default getReviews;"]},"metadata":{},"sourceType":"module"}