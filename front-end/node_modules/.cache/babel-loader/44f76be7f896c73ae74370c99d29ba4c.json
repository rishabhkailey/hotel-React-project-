{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Rishabh\\\\Desktop\\\\babel1\\\\react\\\\project\\\\hotel\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Rishabh\\\\Desktop\\\\babel1\\\\react\\\\project\\\\hotel\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Rishabh\\\\Desktop\\\\babel1\\\\react\\\\project\\\\hotel\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Rishabh\\\\Desktop\\\\babel1\\\\react\\\\project\\\\hotel\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\Users\\\\Rishabh\\\\Desktop\\\\babel1\\\\react\\\\project\\\\hotel\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Rishabh\\\\Desktop\\\\babel1\\\\react\\\\project\\\\hotel\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Form,Button}from'react-bootstrap';import{Link}from'react-router-dom';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(props){var _this;_classCallCheck(this,Login);_this=_possibleConstructorReturn(this,_getPrototypeOf(Login).call(this,props));_this.state={isValidPassword:null,isInvalidPassword:null,isValidEmail:null,isInvalidEmail:null,pwdMsg:''};_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));_this.validateEmail=_this.validateEmail.bind(_assertThisInitialized(_this));_this.validatePassword=_this.validatePassword.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"validateEmail\",value:function validateEmail(event){var mail=event.target.value;var mailRegExp=/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;if(mailRegExp.test(mail)){this.setState({isValidEmail:true,isInvalidEmail:false});}else this.setState({isValidEmail:false,isInvalidEmail:true});}},{key:\"validatePassword\",value:function validatePassword(event){var pass=event.target.value;if(pass.length<=6){this.setState({isValidPassword:false,isInvalidPassword:true,pwdMsg:'password should be of 6 or more characters'});}}},{key:\"onSubmit\",value:function onSubmit(event){event.preventDefault();console.log(event.target.email.value);var user={email:event.target.email.value,password:event.target.password.value};fetch('http://localhost:5000/users/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(user)}).then(function(res){alert(res);fetch('http://localhost:5000/protected',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(user)});});}},{key:\"render\",value:function render(){var _this$state=this.state,isValidEmail=_this$state.isValidEmail,isInvalidEmail=_this$state.isInvalidEmail,isValidPassword=_this$state.isValidPassword,isInvalidPassword=_this$state.isInvalidPassword;return React.createElement(\"div\",{className:\"container-fluid\",style:{backgroundColor:'#f9f9f9'}},React.createElement(\"div\",{className:\"row\",style:{padding:'2%'}},React.createElement(\"div\",{style:{margin:'auto',fontSize:'30px',fontWeight:'400'}},\"log in\")),React.createElement(Form,{noValidate:true,onSubmit:this.onSubmit,className:\"col-lg-4\",style:{margin:'auto',padding:'5%',backgroundColor:'white',borderRadius:'2%',border:'1px solid #e8e5e5'}},React.createElement(Form.Group,{controlId:\"formBasicEmail\",style:{padding:'1%'}},React.createElement(Form.Label,null,\"Email address\"),React.createElement(Form.Control,{required:true,isValid:isValidEmail,isInvalid:isInvalidEmail,onBlur:this.validateEmail,type:\"email\",placeholder:\"Enter email\",name:\"email\"}),React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Please provide a email address.\")),React.createElement(Form.Group,{controlId:\"formBasicPassword\",style:{padding:'1%'}},React.createElement(Form.Label,null,\"Password\"),React.createElement(Form.Control,{required:true,isValid:isValidPassword,isInvalid:isInvalidPassword,onBlur:this.validatePassword,type:\"password\",placeholder:\"Password\",name:\"password\"}),React.createElement(Form.Control.Feedback,{type:\"invalid\"},this.state.pwdMsg)),React.createElement(\"div\",{className:\"row\",style:{padding:'1%'}},React.createElement(Button,{variant:\"primary\",type:\"submit\",style:{margin:'auto'}},\"log in\"))),React.createElement(\"div\",{className:\"col-lg-4\",style:{margin:'auto',padding:'2%',backgroundColor:'white',borderRadius:'2%',border:'1px solid #e8e5e5',textAlign:'center'}},\"new here ?\",React.createElement(Link,{to:\"/signup\"},\"create an account\")));}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["C:/Users/Rishabh/Desktop/babel1/react/project/hotel/front-end/src/components/login/login.jsx"],"names":["React","Component","Form","Button","Link","Login","props","state","isValidPassword","isInvalidPassword","isValidEmail","isInvalidEmail","pwdMsg","onSubmit","bind","validateEmail","validatePassword","event","mail","target","value","mailRegExp","test","setState","pass","length","preventDefault","console","log","email","user","password","fetch","method","headers","body","JSON","stringify","then","res","alert","backgroundColor","padding","margin","fontSize","fontWeight","borderRadius","border","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isValidPassword: null,\r\n            isInvalidPassword: null,\r\n            isValidEmail: null,\r\n            isInvalidEmail: null,\r\n            pwdMsg: ''\r\n        }\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.validateEmail = this.validateEmail.bind(this);\r\n        this.validatePassword = this.validatePassword.bind(this);\r\n    }\r\n    validateEmail(event) {\r\n        let mail = event.target.value;\r\n        let mailRegExp = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\r\n        if (mailRegExp.test(mail)) {\r\n            this.setState({ isValidEmail: true, isInvalidEmail: false })\r\n        }\r\n        else\r\n            this.setState({ isValidEmail: false, isInvalidEmail: true })\r\n\r\n    }\r\n    validatePassword(event) {\r\n        let pass = event.target.value;\r\n        if (pass.length <= 6) {\r\n            this.setState({ isValidPassword: false, isInvalidPassword: true, pwdMsg: 'password should be of 6 or more characters' })\r\n        }\r\n    }\r\n    onSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        console.log(event.target.email.value);\r\n        let user = {email: event.target.email.value,password: event.target.password.value}\r\n        fetch('http://localhost:5000/users/login', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(user)\r\n        })\r\n            .then((res) => {\r\n                alert(res);\r\n                fetch('http://localhost:5000/protected', {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify(user)\r\n                })\r\n            })\r\n    }\r\n    render() {\r\n        let { isValidEmail, isInvalidEmail, isValidPassword, isInvalidPassword } = this.state;\r\n        return <div className='container-fluid' style={{ backgroundColor: '#f9f9f9' }}>\r\n            <div className='row' style={{ padding: '2%' }}>\r\n                <div style={{ margin: 'auto', fontSize: '30px', fontWeight: '400' }}>log in</div>\r\n            </div>\r\n            <Form noValidate onSubmit={this.onSubmit} className='col-lg-4' style={{ margin: 'auto', padding: '5%', backgroundColor: 'white', borderRadius: '2%', border: '1px solid #e8e5e5' }}>\r\n                <Form.Group controlId=\"formBasicEmail\" style={{ padding: '1%' }}>\r\n                    <Form.Label>Email address</Form.Label>\r\n                    <Form.Control required isValid={isValidEmail} isInvalid={isInvalidEmail} onBlur={this.validateEmail} type=\"email\" placeholder=\"Enter email\" name='email' />\r\n                    <Form.Control.Feedback type=\"invalid\">\r\n                        Please provide a email address.\r\n                    </Form.Control.Feedback>\r\n                </Form.Group>\r\n\r\n                <Form.Group controlId=\"formBasicPassword\" style={{ padding: '1%' }}>\r\n                    <Form.Label>Password</Form.Label>\r\n                    <Form.Control required isValid={isValidPassword} isInvalid={isInvalidPassword} onBlur={this.validatePassword} type=\"password\" placeholder=\"Password\" name='password' />\r\n                    <Form.Control.Feedback type=\"invalid\">\r\n                        {this.state.pwdMsg}\r\n                    </Form.Control.Feedback>\r\n                </Form.Group>\r\n\r\n                {/* <Form.Group controlId=\"formBasicCheckbox\">\r\n                        <Form.Check type=\"checkbox\" label=\"Check me out\" />\r\n                    </Form.Group> */}\r\n                <div className='row' style={{ padding: '1%' }}>\r\n                    <Button variant=\"primary\" type=\"submit\" style={{ margin: 'auto' }}>\r\n                        log in\r\n                    </Button>\r\n                </div>\r\n            </Form>\r\n            <div className='col-lg-4' style={{ margin: 'auto', padding: '2%', backgroundColor: 'white', borderRadius: '2%', border: '1px solid #e8e5e5', textAlign: 'center' }}>\r\n                new here ?<Link to='/signup'>create an account</Link>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}