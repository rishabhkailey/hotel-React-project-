{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rishabh\\\\Desktop\\\\babel1\\\\react\\\\project\\\\hotel\\\\front-end\\\\src\\\\components\\\\navbar\\\\navbar.jsx\";\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Navbar, Nav, NavDropdown, Form, FormControl, Button } from 'react-bootstrap';\nimport { Link, Redirect, useHistory } from 'react-router-dom';\nimport './search.css';\nimport getSuggestions from '../../api_calls/getSuggestions';\n\nclass NavBar extends Component {\n  constructor(props) {\n    super(props);\n    console.log(this.props);\n    this.state = {\n      search_value: '',\n      show_suggestion: false,\n      suggestions: [],\n      options: ['rishabh', 'veer', 'singh', 'kailey', 'raman'],\n      hover: false,\n      suggestion_position: {},\n      redirect: false,\n      count: 0,\n      userAuth: false\n    };\n    this.onChange = this.onChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.logout = this.logout.bind(this);\n    console.log(getSuggestions);\n    console.log(this.props.user);\n  }\n\n  logout() {\n    this.props.logout();\n    this.setState({\n      userAuth: false\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    console.log('submit'); // this.props.history.push('/search');\n\n    getSuggestions(this.state.inputValue).then(destination => {\n      this.props.history.push({\n        pathname: '/search',\n        state: {\n          destination\n        }\n      });\n    });\n  }\n\n  onClick(obj) {\n    // this.props.history.push('/search');\n    this.setState({\n      show_suggestion: false,\n      inputValue: obj.name,\n      suggestions: []\n    });\n    let destination = [obj];\n\n    for (let x in obj) {\n      console.log(x);\n    }\n\n    this.props.history.push({\n      pathname: '/search',\n      state: {\n        destination\n      }\n    }); // this.props.history.push('/search');\n    // this.setState({ redirect: true });\n  }\n\n  onChange(event) {\n    let value = event.target.value;\n    this.setState({\n      inputValue: value\n    });\n\n    if (true || parseInt(value.length) <= 3) {\n      this.setState({\n        show_suggestion: false,\n        suggestion: []\n      });\n      return;\n    }\n\n    let elem = ReactDOM.findDOMNode(this);\n    let input = elem.childNodes[2].childNodes[1].childNodes[0].getBoundingClientRect();\n    let top = input.top + input.height;\n    let left = input.left;\n    getSuggestions(value).then(suggestions => {\n      if (suggestions) this.setState({\n        show_suggestion: true,\n        suggestions: suggestions,\n        suggestion_position: {\n          top: top,\n          left: left\n        }\n      });\n    });\n  }\n\n  render() {\n    let suggestion_list;\n\n    if (this.state.show_suggestion) {\n      let list = this.state.suggestions.map((x, index) => {\n        return React.createElement(\"div\", {\n          className: \"form-control col-12 suggestion\",\n          style: {\n            display: 'block'\n          },\n          key: index,\n          onClick: () => {\n            this.onClick(x);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: {\n            fontWeight: \"bold\",\n            display: \"inline\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, x.name), React.createElement(\"div\", {\n          style: {\n            fontWeight: \"100\",\n            display: \"inline\",\n            paddingLeft: \"inherit\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, x.info));\n      }); // console.log('list = ' + this.state.suggestions + this.state.show_suggestion);\n\n      let left = '' + this.state.suggestion_position.left + 'px';\n      let top = '' + this.state.suggestion_position.top + 'px';\n      suggestion_list = React.createElement(\"div\", {\n        style: {\n          backgroundColor: \"white\",\n          position: 'absolute',\n          left: left,\n          top: top\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, list);\n    }\n\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      bg: \"primary\",\n      expand: \"lg\",\n      className: \"navbar-dark\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Navbar.Brand, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Hotels\")), React.createElement(Navbar.Toggle, {\n      \"aria-controls\": \"basic-navbar-nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(Navbar.Collapse, {\n      id: \"basic-navbar-nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      className: \"mr-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(NavDropdown, {\n      title: \"Account\",\n      id: \"basic-nav-dropdown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(NavDropdown.Item, {\n      href: \"#action/3.1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"bookings\"), React.createElement(NavDropdown.Item, {\n      href: \"#action/3.2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"account info\"), React.createElement(NavDropdown.Item, {\n      href: \"#action/3.3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"log out\"), React.createElement(NavDropdown.Divider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(NavDropdown.Item, {\n      href: \"#action/3.4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"wishlist\"))), React.createElement(Form, {\n      inline: true,\n      className: \"mr-auto\",\n      style: {\n        minWidth: '50%'\n      },\n      id: \"basic-nav-dropdown\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      type: \"text\",\n      placeholder: \"Search\",\n      className: \"col-10\",\n      value: this.state.inputValue,\n      onChange: this.onChange,\n      style: {\n        borderTopRightRadius: \"0px\",\n        borderBottomRightRadius: \"0px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }), React.createElement(Button, {\n      className: \"col-2\",\n      type: \"submit\",\n      style: {\n        borderTopLeftRadius: \"0px\",\n        borderBottomLeftRadius: \"0px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"search\")), suggestion_list, React.createElement(Nav, {\n      className: \"mr-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, this.state.userAuth ? React.createElement(Button, {\n      onClick: this.logout,\n      className: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"log out\") : React.createElement(Link, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"primary\",\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"log in\")), React.createElement(Button, {\n      variant: \"primary\",\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"bookings\")))), this.state.redirect && React.createElement(Redirect, {\n      to: \"/search/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }));\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    return {\n      userAuth: props.userAuth\n    };\n  }\n\n}\n\nexport default NavBar;","map":{"version":3,"sources":["C:/Users/Rishabh/Desktop/babel1/react/project/hotel/front-end/src/components/navbar/navbar.jsx"],"names":["React","Component","ReactDOM","Navbar","Nav","NavDropdown","Form","FormControl","Button","Link","Redirect","useHistory","getSuggestions","NavBar","constructor","props","console","log","state","search_value","show_suggestion","suggestions","options","hover","suggestion_position","redirect","count","userAuth","onChange","bind","handleSubmit","logout","user","setState","event","preventDefault","inputValue","then","destination","history","push","pathname","onClick","obj","name","x","value","target","parseInt","length","suggestion","elem","findDOMNode","input","childNodes","getBoundingClientRect","top","height","left","render","suggestion_list","list","map","index","display","fontWeight","paddingLeft","info","backgroundColor","position","minWidth","borderTopRightRadius","borderBottomRightRadius","borderTopLeftRadius","borderBottomLeftRadius","getDerivedStateFromProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Navbar, Nav, NavDropdown, Form, FormControl, Button } from 'react-bootstrap';\r\nimport { Link, Redirect, useHistory } from 'react-router-dom';\r\nimport './search.css';\r\n\r\nimport getSuggestions from '../../api_calls/getSuggestions'\r\nclass NavBar extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tconsole.log(this.props);\r\n\t\tthis.state = {\r\n\t\t\tsearch_value: '',\r\n\t\t\tshow_suggestion: false,\r\n\t\t\tsuggestions: [],\r\n\t\t\toptions: ['rishabh', 'veer', 'singh', 'kailey', 'raman'],\r\n\t\t\thover: false,\r\n\t\t\tsuggestion_position: {},\r\n\t\t\tredirect: false,\r\n\t\t\tcount: 0,\r\n\t\t\tuserAuth: false\r\n\t\t};\r\n\t\tthis.onChange = this.onChange.bind(this);\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t\tthis.logout = this.logout.bind(this)\r\n\t\tconsole.log(getSuggestions);\r\n\t\tconsole.log(this.props.user)\r\n\t}\r\n\tlogout(){\r\n\t\tthis.props.logout()\r\n\t\tthis.setState({userAuth: false})\r\n\t}\r\n\thandleSubmit(event) {\r\n\t\tevent.preventDefault();\r\n\t\tconsole.log('submit');\r\n\t\t// this.props.history.push('/search');\r\n\t\tgetSuggestions(this.state.inputValue)\r\n\t\t\t.then((destination) => {\r\n\t\t\t\tthis.props.history.push({\r\n\t\t\t\t\tpathname: '/search',\r\n\t\t\t\t\tstate: { destination }\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t}\r\n\tonClick(obj) {\r\n\t\t// this.props.history.push('/search');\r\n\t\tthis.setState({ show_suggestion: false, inputValue: obj.name, suggestions: [] });\r\n\t\tlet destination = [obj];\r\n\t\tfor (let x in obj) {\r\n\t\t\tconsole.log(x);\r\n\t\t}\r\n\t\tthis.props.history.push({\r\n\t\t\tpathname: '/search',\r\n\t\t\tstate: {destination}\r\n\t\t})\r\n\t\t// this.props.history.push('/search');\r\n\t\t// this.setState({ redirect: true });\r\n\t}\r\n\tonChange(event) {\r\n\t\tlet value = event.target.value;\r\n\r\n\t\tthis.setState({ inputValue: value });\r\n\r\n\t\tif (true || (parseInt(value.length) <= 3)) {\r\n\t\t\tthis.setState({ show_suggestion: false, suggestion: [] })\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet elem = ReactDOM.findDOMNode(this);\r\n\t\tlet input = elem.childNodes[2].childNodes[1].childNodes[0].getBoundingClientRect();\r\n\r\n\t\tlet top = input.top + input.height;\r\n\t\tlet left = input.left;\r\n\r\n\t\tgetSuggestions(value)\r\n\t\t\t.then((suggestions) => {\r\n\t\t\t\tif (suggestions)\r\n\t\t\t\t\tthis.setState({ show_suggestion: true, suggestions: suggestions, suggestion_position: { top: top, left: left } });\r\n\t\t\t})\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tlet suggestion_list;\r\n\t\tif (this.state.show_suggestion) {\r\n\t\t\tlet list = this.state.suggestions.map((x, index) => {\r\n\t\t\t\treturn <div className='form-control col-12 suggestion' style={{ display: 'block' }} key={index} onClick={() => { this.onClick(x) }}>\r\n\t\t\t\t\t<div style={{ fontWeight: \"bold\", display: \"inline\" }}>{x.name}</div>\r\n\t\t\t\t\t<div style={{ fontWeight: \"100\", display: \"inline\", paddingLeft: \"inherit\" }}>{x.info}</div>\r\n\t\t\t\t</div>\r\n\t\t\t});\r\n\t\t\t// console.log('list = ' + this.state.suggestions + this.state.show_suggestion);\r\n\t\t\tlet left = '' + this.state.suggestion_position.left + 'px';\r\n\t\t\tlet top = '' + this.state.suggestion_position.top + 'px';\r\n\t\t\tsuggestion_list = <div style={{ backgroundColor: \"white\", position: 'absolute', left: left, top: top }}>\r\n\t\t\t\t{list}\r\n\t\t\t</div>\r\n\t\t}\r\n\t\treturn <React.Fragment>\r\n\t\t\t<Navbar bg=\"primary\" expand=\"lg\" className=\"navbar-dark\">\r\n\t\t\t\t<Link to='/'><Navbar.Brand>Hotels</Navbar.Brand></Link>{/*.Brand for site logo or name*/}\r\n\t\t\t\t<Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n\t\t\t\t<Navbar.Collapse id=\"basic-navbar-nav\">{/*.Collapse for multiple nav inside when screens size is small*/}\r\n\t\t\t\t\t<Nav className=\"mr-auto\">\r\n\t\t\t\t\t\t{/* <Nav.Link href=\"#home\">Home</Nav.Link>  use brand as home*/}\r\n\t\t\t\t\t\t{/* <Nav.Link href=\"#Top\">Top</Nav.Link> */}\r\n\t\t\t\t\t\t<NavDropdown title=\"Account\" id=\"basic-nav-dropdown\">\r\n\t\t\t\t\t\t\t<NavDropdown.Item href=\"#action/3.1\">bookings</NavDropdown.Item>\r\n\t\t\t\t\t\t\t<NavDropdown.Item href=\"#action/3.2\">account info</NavDropdown.Item>\r\n\t\t\t\t\t\t\t<NavDropdown.Item href=\"#action/3.3\">log out</NavDropdown.Item>\r\n\t\t\t\t\t\t\t<NavDropdown.Divider />\r\n\t\t\t\t\t\t\t<NavDropdown.Item href=\"#action/3.4\">wishlist</NavDropdown.Item>\r\n\t\t\t\t\t\t</NavDropdown>\r\n\t\t\t\t\t</Nav>\r\n\t\t\t\t\t<Form inline className='mr-auto' style={{minWidth: '50%'}} id='basic-nav-dropdown' onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t\t<FormControl type=\"text\" placeholder=\"Search\" className=\"col-10\" value={this.state.inputValue} onChange={this.onChange} style={{ borderTopRightRadius: \"0px\", borderBottomRightRadius: \"0px\" }} />\r\n\t\t\t\t\t\t<Button className='col-2' type=\"submit\" style={{ borderTopLeftRadius: \"0px\", borderBottomLeftRadius: \"0px\" }}>search</Button>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t\t{suggestion_list}{/* div tag with list*/}\r\n\t\t\t\t\t<Nav className=\"mr-auto\">\r\n\t\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\t\tthis.state.userAuth ? <Button onClick={this.logout} className='primary'>log out</Button> : <Link to='/login'>\r\n\t\t\t\t\t\t\t\t<Button variant=\"primary\" className=\"\">log in</Button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<Button variant=\"primary\" className=\"\">bookings</Button>\r\n\t\t\t\t\t</Nav>\r\n\t\t\t\t</Navbar.Collapse>\r\n\t\t\t</Navbar>\r\n\t\t\t{/* {this.state.count=this.state.count+1} */}\r\n\t\t\t{this.state.redirect && <Redirect to={`/search/`} />}\r\n\t\t</React.Fragment>\r\n\t}\r\n\tstatic getDerivedStateFromProps(props,state){\r\n\t\treturn {userAuth: props.userAuth}\r\n\t}\r\n}\r\n\r\nexport default NavBar;"]},"metadata":{},"sourceType":"module"}